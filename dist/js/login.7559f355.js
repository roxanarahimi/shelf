"use strict";(self["webpackChunkmonitoring"]=self["webpackChunkmonitoring"]||[]).push([[966],{7016:function(e,o,t){t.r(o),t.d(o,{default:function(){return v}});var r=t(6768);const s={class:"d-grid h-100 px-4"},l={class:"row text-start px-2 align-self-center"},a=(0,r.Fv)('<b class="text-center">ورود کارشناس</b><div class="col-12 px-1"><label for="mobile">شماره موبایل</label><input type="text" class="form-control form-control-sm en" name="date" id="mobile" required></div><div class="col-12 px-1"><label for="password">رمز ورود</label><input type="password" class="form-control form-control-sm en" name="date" id="password" required></div>',3),n={class:"col-12 px-1 text-center mt-4"};function c(e,o,t,c,i,u){return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("div",l,[a,(0,r.Lk)("div",n,[(0,r.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>c.login&&c.login(...e)),class:"btn mx-auto px-4",style:{"background-color":"#e70000",color:"white"}},"ورود")])])])}t(4114);var i=t(144),u=t(1893),d=t(1387),m={name:"Login",setup(){const e=(0,d.rd)(),o=(0,i.KR)({}),t=(0,i.KR)({}),s=()=>{let o=u.A.setup().EmptyFieldsCount();0===o&&axios.post(u.A.setup().panelUrl+"visitor/login",{username:document.querySelector("#mobile").value,password:document.querySelector("#password").value}).then((o=>{console.log(o),localStorage.setItem("user",JSON.stringify(o.data.user)),e.push({name:"home"})})).catch((e=>{console.error(e)}))};return(0,r.sV)((()=>{JSON.parse(localStorage.getItem("user"))?.id?(o.value=JSON.parse(localStorage.getItem("user")),t.value=JSON.parse(localStorage.getItem("user")),e.push({name:"home"})):(u.A.setup().visitor.value={},localStorage.removeItem("user"))})),{user:o,login:s,router:e,visitor:t}}},p=t(1241);const g=(0,p.A)(m,[["render",c]]);var v=g}}]);
//# sourceMappingURL=login.7559f355.js.map
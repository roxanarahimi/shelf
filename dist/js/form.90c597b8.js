"use strict";(self["webpackChunkmonitoring"]=self["webpackChunkmonitoring"]||[]).push([[325],{6083:function(e,l,a){a.d(l,{A:function(){return S}});var t=a(6768),o=a(4232);const n={class:"align-self-start text-start bg-light rounded rounded p-3",style:{border:"solid rgb(236,236,236) 1px"}},s={class:"px-1 mb-4 text-start"},i=["value"],c=(0,t.Lk)("b",null,"استان ",-1),r={class:"d-inline-block"},d=(0,t.Lk)("b",null," شهر ",-1),u={class:"d-inline-block"},v=(0,t.Lk)("br",null,null,-1),p=(0,t.Lk)("b",null," منطقه ",-1),m={class:"d-inline-block"},k=(0,t.Lk)("b",null," مسیر ",-1),b={class:"d-inline-block"},f=(0,t.Lk)("b",null," کد مسیر ",-1),g={class:"d-inline-block"},x={class:"d-flex justify-content-between"},L=(0,t.Lk)("b",null,"تلفن ",-1),y={class:"d-inline-block"},C={key:0},h=(0,t.Lk)("b",null,"گرید ",-1),_={class:"d-inline-block"};function F(e,l,a,F,X,K){return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",s,[(0,t.Lk)("input",{type:"hidden",id:"customer_id",value:a.customer.id},null,8,i),(0,t.Lk)("p",null,(0,o.v_)(a.customer.name),1),(0,t.Lk)("p",null,(0,o.v_)(a.customer.address),1),c,(0,t.Lk)("p",r,(0,o.v_)(a.customer.province.title),1),d,(0,t.Lk)("p",u,(0,o.v_)(a.customer.city.title),1),v,(0,t.Lk)("div",null,[p,(0,t.Lk)("p",m,(0,o.v_)(a.customer.region.title),1),k,(0,t.Lk)("p",b,(0,o.v_)(a.customer.path),1),f,(0,t.Lk)("p",g,(0,o.v_)(a.customer.path_code),1)]),(0,t.Lk)("div",null,[(0,t.Lk)("p",null,(0,o.v_)(a.customer.path_description),1)]),(0,t.Lk)("div",x,[(0,t.Lk)("div",null,[L,(0,t.Lk)("p",y,[(0,t.eW)((0,o.v_)(a.customer.phone)+" ",1),a.customer.mobile&&a.customer.phone?((0,t.uX)(),(0,t.CE)("span",C,"-")):(0,t.Q3)("",!0),(0,t.eW)(" "+(0,o.v_)(a.customer.mobile),1)])]),(0,t.Lk)("div",null,[h,(0,t.Lk)("p",_,(0,o.v_)(a.customer.scores?.grade),1)])])])])}var X={name:"CustomerInfo",props:["customer"]},K=a(1241);const E=(0,K.A)(X,[["render",F]]);var S=E},7264:function(e,l,a){a.d(l,{A:function(){return b}});var t=a(6768);const o={key:0,class:"align-self-center mx-auto",style:{color:"#696969"}},n=(0,t.Lk)("i",{style:{"font-size":"35px"},class:"bi bi-camera-fill"},null,-1),s=(0,t.Lk)("p",{style:{"font-size":"15px"}},"ثبت تصویر",-1),i=[n,s],c={key:1,class:"image-container p-1"},r=["src"],d=["id"];function u(e,l,a,n,s,u){return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",{class:"rounded d-grid text-center cursor-pointer",onClick:l[0]||(l[0]=(...e)=>n.selectFile&&n.selectFile(...e)),style:{border:"dashed #c5c8cb 1px","min-height":"200px"}},[n.selectedFile?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",o,i)),n.selectedFile?((0,t.uX)(),(0,t.CE)("div",c,[n.imageSrc?((0,t.uX)(),(0,t.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important","border-radius":"5px",height:"auto !important"},src:n.imageSrc},null,8,r)):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)]),(0,t.Lk)("input",{class:"d-none",type:"file",id:"image_"+a.index,onChange:l[1]||(l[1]=(...e)=>n.fileChanged&&n.fileChanged(...e)),accept:"image/*",capture:"environment"},null,40,d)],64)}var v=a(144),p={name:"ImagePicker",props:["index"],setup(e){const l=()=>{document.querySelector("#image_"+e.index).click()},a=(0,v.KR)(),o=(0,v.KR)(null),n=new FileReader;n.onload=e=>{o.value=e.target.result};const s=e=>{let l=e.target.files||e.dataTransfer.files;l.length&&(a.value=l[0]),console.log("files",o.value)};return(0,t.nT)((()=>{a.value?n.readAsDataURL(a.value):o.value=null})),{selectFile:l,fileChanged:s,selectedFile:a,imageSrc:o,fileReader:n}}},m=a(1241);const k=(0,m.A)(p,[["render",u]]);var b=k},3699:function(e,l,a){a.r(l),a.d(l,{default:function(){return N}});var t=a(6768);const o=e=>((0,t.Qi)("data-v-727be4a9"),e=e(),(0,t.jt)(),e),n={class:"text-start px-4"},s=o((()=>(0,t.Lk)("b",{class:"mb-4 text-start d-block"},"فرم شلف مانیتورینگ",-1))),i=o((()=>(0,t.Lk)("div",{class:"d-flex justify-content-end mb-3"},[(0,t.Lk)("b",null,"تاریخ:"),(0,t.Lk)("p",{class:"d-inline-block"},"1403/05/10")],-1))),c={class:"mt-3"},r=o((()=>(0,t.Lk)("b",null," برند های موجود",-1))),d=o((()=>(0,t.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1))),u=(0,t.Fv)('<div class="px-0" data-v-727be4a9><label for="description" data-v-727be4a9>توضیحات</label><textarea id="description" class="form-control form-control-sm" rows="3" data-v-727be4a9></textarea></div><div class="px-0 my-4" data-v-727be4a9><button class="btn" style="background-color:#e70000;color:white;" data-v-727be4a9>ذخیره</button></div>',2);function v(e,l,a,o,v,p){const m=(0,t.g2)("customer-info"),k=(0,t.g2)("form-section");return(0,t.uX)(),(0,t.CE)("div",n,[s,i,o.customer.id?((0,t.uX)(),(0,t.Wv)(m,{key:0,customer:o.customer},null,8,["customer"])):(0,t.Q3)("",!0),(0,t.Lk)("div",c,[r,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.brands,((e,l)=>((0,t.uX)(),(0,t.Wv)(k,{info:e,index:l},null,8,["info","index"])))),256))]),(0,t.Lk)("b",{onClick:l[0]||(l[0]=(...e)=>o.addBrand&&o.addBrand(...e)),class:"cursor-pointer"},[(0,t.eW)("افزودن "),d]),u])}var p=a(144),m=a(1893),k=a(1387),b=a(4232),f=a(5130);const g=e=>((0,t.Qi)("data-v-52945656"),e=e(),(0,t.jt)(),e),x={class:"row mx-0 px-2 rounded position-relative pt-2 pb-3 my-4",style:{border:"solid  rgba(231,0,0,0.1) 1px","background-color":"rgba(231,0,0,0.05)"}},L=g((()=>(0,t.Lk)("i",{class:"bi bi-x-circle-fill"},null,-1))),y=[L],C={class:"col-3 px-1"},h=g((()=>(0,t.Lk)("label",{for:"sku_category_id"},"نوع محصول",-1))),_=g((()=>(0,t.Lk)("option",{value:""},null,-1))),F=["value"],X={class:"col-3 px-1"},K=g((()=>(0,t.Lk)("label",{for:"brand"},"برند",-1))),E=g((()=>(0,t.Lk)("option",{value:""},null,-1))),S=["value"],A=(0,t.Fv)('<div class="col-4 px-1" data-v-52945656><label data-v-52945656>فضای تبلیغاتی</label><select class="form-select form-select-sm" name="space" data-v-52945656><option value="استیکر" data-v-52945656>استیکر</option><option value="تابلو فروشگاه" data-v-52945656>تابلو فروشگاه</option><option value="سایه بان" data-v-52945656>سایه بان</option><option value="پوستر" data-v-52945656>پوستر</option><option value="استند" data-v-52945656>استند</option><option value="دنگلر" data-v-52945656>دنگلر</option><option value="لایت باکس" data-v-52945656>لایت باکس</option><option value="وابلر" data-v-52945656>وابلر</option><option value="شلف تاکر" data-v-52945656>شلف تاکر</option><option value="پروموتر" data-v-52945656>پروموتر</option><option value="پلی شلف" data-v-52945656>پلی شلف</option></select></div><div class="col-2 px-1" data-v-52945656><label data-v-52945656>چیدمان</label><select class="form-select form-select-sm" name="layout" data-v-52945656><option value="1" data-v-52945656>1</option><option value="2" data-v-52945656>2</option><option value="3" data-v-52945656>3</option><option value="4" data-v-52945656>4</option><option value="5" data-v-52945656>5</option></select></div>',2),R={class:"col-12 px-1"},I=g((()=>(0,t.Lk)("label",null,"sku ها",-1))),w={class:"d-flex justify-content-start flex-wrap mb-2"},B={class:"form-check me-2"},U=["id"],Q=["for"],j=(0,t.Fv)('<div class="col-4 px-1" data-v-52945656><label data-v-52945656>تعداد‌ در‌ ‌دیدرس‌face</label><input type="number" class="form-control form-control-sm en" name="face" data-v-52945656></div><div class="col-4 px-1" data-v-52945656><label data-v-52945656>شدت حضور</label><select class="form-select form-select-sm" name="presence" data-v-52945656><option value="1" data-v-52945656>1</option><option value="2" data-v-52945656>2</option><option value="3" data-v-52945656>3</option><option value="4" data-v-52945656>4</option><option value="5" data-v-52945656>5</option></select></div><div class="col-4 px-1" data-v-52945656><label data-v-52945656>تاریخ انقضا</label><input type="text" class="form-control form-control-sm en" name="expire_date" data-v-52945656></div><div class="col-4 px-1" data-v-52945656><label data-v-52945656>قیمت بسته بندی</label><input type="number" min="0" class="form-control form-control-sm en" name="label_price" data-v-52945656></div><div class="col-4 px-1" data-v-52945656><label data-v-52945656>قیمت فروش</label><input type="number" min="0" class="form-control form-control-sm en" name="sale_price" data-v-52945656></div><div class="col-4 px-1" data-v-52945656><label data-v-52945656>قیمت پخش</label><input type="number" min="0" class="form-control form-control-sm en" name="distribute_price" data-v-52945656></div>',6),W={class:"col-12 px-1 mt-2"},q=g((()=>(0,t.Lk)("label",null,"تصویر چیدمان",-1)));function z(e,l,a,o,n,s){const i=(0,t.g2)("image-picker");return(0,t.uX)(),(0,t.CE)("div",x,[(0,t.Lk)("div",{onClick:l[0]||(l[0]=l=>e.removeBrand(a.index)),style:{position:"absolute",top:"-10px",right:"-20px",cursor:"pointer","font-size":"18px"}},y),(0,t.Lk)("div",C,[h,(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>o.selectedSkuCategory=e),name:"sku_category",class:"form-select form-select-sm",id:"sku_category_id"},[_,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.skuCategories,(e=>((0,t.uX)(),(0,t.CE)("option",{value:e},(0,b.v_)(e.title),9,F)))),256))],512),[[f.u1,o.selectedSkuCategory]])]),(0,t.Lk)("div",X,[K,(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":l[2]||(l[2]=e=>o.selectedBrand=e),onChange:l[3]||(l[3]=(...e)=>o.loadSkus&&o.loadSkus(...e)),name:"brand",class:"form-select form-select-sm",id:"brand"},[E,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.selectedSkuCategory.brands,(e=>((0,t.uX)(),(0,t.CE)("option",{value:e.brand},(0,b.v_)(e.brand.title),9,S)))),256))],544),[[f.u1,o.selectedBrand]])]),A,(0,t.Lk)("div",R,[I,(0,t.Lk)("div",w,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.skus,((e,l)=>((0,t.uX)(),(0,t.CE)("div",B,[(0,t.Lk)("input",{class:"form-check-input",type:"checkbox",value:"",id:"sku-"+l},null,8,U),(0,t.Lk)("label",{class:"form-check-label",for:"sku-"+l},(0,b.v_)(e.title),9,Q)])))),256))])]),j,(0,t.Lk)("div",W,[q,(0,t.bF)(i,{index:a.index},null,8,["index"])])])}var P=a(7264),T={name:"FormSection",components:{ImagePicker:P.A},props:["index"],setup(){const e=(0,k.lq)(),l=m.A.setup().panelUrl,a=(0,p.KR)([]),o=(0,p.KR)({}),n=(0,p.KR)({}),s=(0,p.KR)([]),i=()=>{axios.get(l+"category/sku").then((e=>{a.value=e.data})).catch((e=>{console.error(e)}))},c=()=>{console.log(o.value,n.value),o.value&&n.value&&axios.get(l+"sku?sku_category_id="+o.value.id+"&brand_id="+n.value.id).then((e=>{s.value=e.data,console.log(s.value)})).catch((e=>{console.error(e)}))};return(0,t.KC)((()=>{m.A.setup().checkUser(),i()})),{skuCategories:a,loadSkuCategories:i,selectedSkuCategory:o,skus:s,loadSkus:c,route:e,panelUrl:l,selectedBrand:n}}},V=a(1241);const D=(0,V.A)(T,[["render",z],["__scopeId","data-v-52945656"]]);var G=D,H=a(6083),J={name:"Form",components:{CustomerInfo:H.A,FormSection:G},setup(){const e=(0,k.lq)(),l=m.A.setup().panelUrl,a=(0,p.KR)({}),o=(0,p.KR)({}),n=()=>{axios.get(l+"customer/"+e.params.id).then((e=>{a.value=e.data})).catch((e=>{console.error(e)}))};(0,t.KC)((()=>{m.A.setup().checkUser(),n()}));const s=(0,p.KR)(1),i=()=>{s.value+=1},c=e=>{};return{brands:s,addBrand:i,customer:a,findCustomer:n,route:e,form:o,removeBrand:c}}};const M=(0,V.A)(J,[["render",v],["__scopeId","data-v-727be4a9"]]);var N=M}}]);
//# sourceMappingURL=form.90c597b8.js.map
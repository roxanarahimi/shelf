"use strict";(self["webpackChunkmonitoring"]=self["webpackChunkmonitoring"]||[]).push([[37],{9612:function(a,e,t){t.d(e,{A:function(){return f}});var o=t(6768);const l={class:"d-inline-block mb-3"};function n(a,e,t,n,s,i){const r=(0,o.g2)("loader-sm");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("button",{id:"submit",class:"btn d-flex justify-content-between",style:{"background-color":"#e70000",color:"white"},onClick:e[0]||(e[0]=(...a)=>n.submitForm&&n.submitForm(...a))},[(0,o.RG)(a.$slots,"default"),(0,o.bF)(r,{class:"loader-sm d-none"})])])}const s={id:"loader-sm"},i=(0,o.Fv)('<div class="w-100 text-center mx-1" data-v-9aaf483c><svg id="spin" width="20" height="22" data-name="spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 299.36 299.87" data-v-9aaf483c><path class="cls-1" d="M-5.26-107c0-8.87,0-17.74,0-26.6,0-6.45,4.33-10.76,10.72-10.77s10.87,4.39,10.88,10.73q0,26.79,0,53.57c0,6.49-4.32,10.66-10.83,10.62-6.72,0-10.76-4-10.78-10.58,0-9,0-18,0-27Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-2" d="M-106.92,16.76q-13.29,0-26.57,0C-140.1,16.73-144,12.7-144,6s4-10.76,10.59-10.78q26.76-.06,53.52,0c6.48,0,10.72,4.4,10.66,10.86-.06,6.66-4,10.67-10.69,10.69-9,0-18,0-26.95,0Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-3" d="M-65.82-124.94c4.84-.14,7.74,1.53,9.67,4.77q13.9,23.43,27.71,46.92a10.23,10.23,0,0,1-3.32,14.06c-5.65,3.51-11.62,2.57-14.94-2.93-9.45-15.66-18.8-31.38-27.89-47.25A10.35,10.35,0,0,1-65.82-124.94Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-4" d="M-57-38.87c0,9.07-8.62,14.08-16.24,9.54q-23.07-13.76-46-27.72a10.28,10.28,0,0,1-3.53-14.59c3.19-5.31,9.11-7,14.47-3.85Q-85.24-61.77-62.28-47.8C-58.89-45.75-56.58-42.95-57-38.87Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-5" d="M-57.75,49.3a10.17,10.17,0,0,1-5.31,8.17C-78.6,66.4-94.15,75.33-109.77,84.13c-4.87,2.75-9.19,2.11-12.7-1.34A10.85,10.85,0,0,1-125,70.17a10.15,10.15,0,0,1,4.33-4.53c15.68-9,31.33-18,47.07-26.81C-66.5,34.85-57.66,40.4-57.75,49.3Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-6" d="M-62.95,136.79c-9.81,0-14.26-8.08-9.38-16.63,6.18-10.81,12.48-21.56,18.7-32.34,2.49-4.32,4.83-8.71,7.38-13,3.35-5.62,9.25-7.17,14.77-4s7,9.18,3.71,14.88c-8.71,15.24-17.51,30.42-26.18,45.67C-56.06,135.06-58.8,137.32-62.95,136.79Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-7" d="M76.15,136.11c-3.79.4-6.64-1.48-8.54-4.68Q53.66,108,39.9,84.43c-2.73-4.7-.85-11.32,3.53-13.78,6.21-3.48,11.53-2.34,15.1,3.55,5.1,8.41,10,16.94,15,25.43,4,6.76,8,13.51,11.92,20.3C90,127.75,85.25,136.13,76.15,136.11Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-8" d="M16,118.92c0,9.24.1,18.47,0,27.7-.08,5.1-4.55,8.88-10.07,8.91-6.28,0-11-3.65-11.09-9.13q-.18-28.09,0-56.19C-5.14,84.44-.6,81,6.15,81a9.76,9.76,0,0,1,10,9.82c.09,4.74,0,9.48,0,14.23v13.84Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-9" d="M68.87,50.44c-.08-4.75,1.73-8,5.52-9.92a10.26,10.26,0,0,1,10.62.6c15,9.16,30.07,18.15,45.11,27.21,5.33,3.21,7.24,9.26,4.46,14.11C131.42,88,125.72,90,120.2,86.8c-14-8.14-27.78-16.62-41.65-25-1.82-1.09-3.7-2.09-5.42-3.32C70.24,56.45,68.27,53.82,68.87,50.44Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-10" d="M118.16-4.3h26.23c4.46,0,8.72,2.68,10.18,6.31a10.94,10.94,0,0,1-3.11,12.21c-.81.72-1.92,1.65-2.85,1.61-5-.22-9.86,1.8-14.85.47a5.38,5.38,0,0,0-2.22-.18c-7.64,1.3-15.3-.34-23,.37-5.71.52-11.59-.23-17.44.1-5.15.29-10.2-5.78-10.09-11s4.94-9.86,10.56-9.89C100.43-4.33,109.29-4.3,118.16-4.3Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-11" d="M70.49-37.4c-.5-4.22,2.43-6.45,5.32-8.15,15-8.88,30.22-17.52,45.34-26.26a10.59,10.59,0,0,1,11.89.72,10.76,10.76,0,0,1,3.47,10.62c-.81,2.84-3,4.6-5.33,5.95-11.32,6.63-22.73,13.1-34.14,19.6-3.74,2.13-7.66,4-11.28,6.3s-7.14,2.74-10.54.69A9.48,9.48,0,0,1,70.49-37.4Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-12" d="M74.5-124.3c3.58.25,7.12,1.15,8.66,4.66a10.62,10.62,0,0,1-.47,10.24C77.2-100,71.22-91,66.4-81.18c-3.16,6.43-7.23,12.42-11,18.55C53.08-58.82,48.18-58.24,43.2-61a8.38,8.38,0,0,1-3.11-11.34q6.55-11.91,13.36-23.69c4.78-8.28,9.73-16.46,14.52-24.74A6.45,6.45,0,0,1,74.5-124.3Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path></svg></div>',1),r=[i];function c(a,e,t,l,n,i){return(0,o.uX)(),(0,o.CE)("div",s,r)}var d={name:"Loader"},u=t(1241);const p=(0,u.A)(d,[["render",c],["__scopeId","data-v-9aaf483c"]]);var v=p,m={components:{LoaderSm:v},name:"BtnSubmit",setup(){const a=()=>{let a=0,e=document.querySelectorAll("[required]");e.forEach((e=>{""===e.value?(e.classList.add("hasError"),e.nextSibling.innerHTML="فیلد اجباری",a++):(e.classList.remove("hasError"),e.nextSibling.innerHTML="")})),0===a?(document.querySelector("#submit").setAttribute("disabled","disabled"),document.querySelector(".loader-sm").classList.remove("d-none")):(document.querySelector("#submit").classList.remove("btn-primary"),document.querySelector("#submit").classList.add("btn-danger"),setTimeout((()=>{document.querySelector("#submit").classList.add("btn-primary"),document.querySelector("#submit").classList.remove("btn-danger")}),3e3))};return{submitForm:a}}};const b=(0,u.A)(m,[["render",n]]);var f=b},6083:function(a,e,t){t.d(e,{A:function(){return B}});var o=t(6768),l=t(4232);const n={class:"align-self-start text-start bg-light rounded rounded p-3",style:{border:"solid rgb(236,236,236) 1px"}},s={class:"px-1 mb-4 text-start"},i=["value"],r=(0,o.Lk)("b",null,"استان ",-1),c={class:"d-inline-block"},d=(0,o.Lk)("b",null," شهر ",-1),u={class:"d-inline-block"},p=(0,o.Lk)("br",null,null,-1),v=(0,o.Lk)("b",null," منطقه ",-1),m={class:"d-inline-block"},b=(0,o.Lk)("b",null," مسیر ",-1),f={class:"d-inline-block"},k=(0,o.Lk)("b",null," کد مسیر ",-1),g={class:"d-inline-block"},y={class:"d-flex justify-content-between"},h=(0,o.Lk)("b",null,"تلفن ",-1),_={class:"d-inline-block"},x={key:0},L=(0,o.Lk)("b",null,"گرید ",-1),C={class:"d-inline-block"};function E(a,e,t,E,S,F){return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("div",s,[(0,o.Lk)("input",{type:"hidden",id:"customer_id",value:t.customer.id},null,8,i),(0,o.Lk)("p",null,(0,l.v_)(t.customer.name),1),(0,o.Lk)("p",null,(0,l.v_)(t.customer.address),1),r,(0,o.Lk)("p",c,(0,l.v_)(t.customer.province.title),1),d,(0,o.Lk)("p",u,(0,l.v_)(t.customer.city.title),1),p,(0,o.Lk)("div",null,[v,(0,o.Lk)("p",m,(0,l.v_)(t.customer.region.title),1),b,(0,o.Lk)("p",f,(0,l.v_)(t.customer.path),1),k,(0,o.Lk)("p",g,(0,l.v_)(t.customer.path_code),1)]),(0,o.Lk)("div",null,[(0,o.Lk)("p",null,(0,l.v_)(t.customer.path_description),1)]),(0,o.Lk)("div",y,[(0,o.Lk)("div",null,[h,(0,o.Lk)("p",_,[(0,o.eW)((0,l.v_)(t.customer.phone)+" ",1),t.customer.mobile&&t.customer.phone?((0,o.uX)(),(0,o.CE)("span",x,"-")):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,l.v_)(t.customer.mobile),1)])]),(0,o.Lk)("div",null,[L,(0,o.Lk)("p",C,(0,l.v_)(t.customer.scores?.grade),1)])])])])}var S={name:"CustomerInfo",props:["customer"]},F=t(1241);const A=(0,F.A)(S,[["render",E]]);var B=A},8882:function(a,e,t){t.d(e,{A:function(){return _}});var o=t(6768),l=t(5130);const n={key:0,class:"align-self-center mx-auto",style:{color:"#696969"}},s={key:0,class:"image-container p-1"},i=["src"],r={key:1},c=(0,o.Lk)("i",{style:{"font-size":"55px"},class:"bi bi-camera-fill"},null,-1),d=(0,o.Lk)("p",{style:{"font-size":"15px","margin-top":"-20px"}},"ثبت تصویر",-1),u=[c,d],p={key:1,class:"image-container p-1"},v=["src"],m=["id"],b=["id"];function f(a,e,t,c,d,f){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",{class:"rounded d-grid text-center cursor-pointer",onClick:e[0]||(e[0]=(...a)=>c.selectFile&&c.selectFile(...a)),style:{border:"dashed #c5c8cb 1px","min-height":"200px"}},[c.selectedFile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",n,[t.img?((0,o.uX)(),(0,o.CE)("div",s,[t.img?((0,o.uX)(),(0,o.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important","border-radius":"5px",height:"auto !important"},src:t.img},null,8,i)):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",r,u))])),c.selectedFile?((0,o.uX)(),(0,o.CE)("div",p,[c.imageSrc?((0,o.uX)(),(0,o.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important","border-radius":"5px",height:"auto !important"},src:c.imageSrc},null,8,v)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)]),(0,o.bo)((0,o.Lk)("input",{type:"hidden",name:"image",id:"image_code_"+t.index,"onUpdate:modelValue":e[1]||(e[1]=a=>c.imageSrc=a)},null,8,m),[[l.Jo,c.imageSrc]]),(0,o.Lk)("input",{class:"d-none",type:"file",id:"image_"+t.index,onChange:e[2]||(e[2]=(...a)=>c.fileChanged&&c.fileChanged(...a)),accept:"image/*",capture:"environment"},null,40,b)],64)}var k=t(144),g={name:"ImagePicker",props:["index","name","img"],setup(a){const e=()=>{document.querySelector("#image_"+a.index).click()},t=(0,k.KR)(),l=(0,k.KR)(null),n=new FileReader;n.onload=a=>{l.value=a.target.result};const s=a=>{let e=a.target.files||a.dataTransfer.files;e.length&&(t.value=e[0]),console.log("files",l.value)};return(0,o.nT)((()=>{t.value?n.readAsDataURL(t.value):l.value=null})),{selectFile:e,fileChanged:s,selectedFile:t,imageSrc:l,fileReader:n}}},y=t(1241);const h=(0,y.A)(g,[["render",f]]);var _=h},424:function(a,e,t){t.r(e),t.d(e,{default:function(){return Y}});var o=t(6768),l=t(5130);const n=a=>((0,o.Qi)("data-v-0a3cedd6"),a=a(),(0,o.jt)(),a),s={class:"text-start px-4"},i=n((()=>(0,o.Lk)("b",{class:"mb-4 text-start d-block"},"فرم شلف مانیتورینگ",-1))),r={class:"mt-3"},c=n((()=>(0,o.Lk)("b",null," برند های موجود",-1))),d=n((()=>(0,o.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1))),u=n((()=>(0,o.Lk)("div",{class:"px-0"},[(0,o.Lk)("label",{for:"description"},"توضیحات"),(0,o.Lk)("textarea",{id:"description",class:"form-control form-control-sm",rows:"3"})],-1))),p={class:"px-0 my-4"},v={key:0,class:"error"};function m(a,e,t,n,m,b){const f=(0,o.g2)("customer-info"),k=(0,o.g2)("form-section-form"),g=(0,o.g2)("BtnSubmit");return(0,o.uX)(),(0,o.CE)("div",s,[i,n.customer.id?((0,o.uX)(),(0,o.Wv)(f,{key:0,customer:n.customer},null,8,["customer"])):(0,o.Q3)("",!0),(0,o.Lk)("div",r,[c,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.formSections,((a,e)=>((0,o.uX)(),(0,o.Wv)(k,{info:a,index:e},null,8,["info","index"])))),256))]),(0,o.Lk)("b",{onClick:e[0]||(e[0]=(...a)=>n.addBrand&&n.addBrand(...a)),class:"cursor-pointer"},[(0,o.eW)("افزودن "),d]),u,(0,o.Lk)("div",p,[n.emptyFieldsCount?((0,o.uX)(),(0,o.CE)("p",v,"لطفا همه فیلدها را پر کنید")):(0,o.Q3)("",!0),(0,o.bF)(g,{onClick:(0,l.D$)(n.saveForm,["prevent"])},{default:(0,o.k6)((()=>[(0,o.eW)(" ثبت ")])),_:1},8,["onClick"])])])}t(4114);var b=t(144),f=t(922),k=t(1387),g=t(4232);const y=a=>((0,o.Qi)("data-v-63b9ea8a"),a=a(),(0,o.jt)(),a),h=["id"],_=y((()=>(0,o.Lk)("i",{class:"bi bi-x-circle-fill"},null,-1))),x=[_],L={class:"col-3 px-1"},C=y((()=>(0,o.Lk)("label",{for:"sku_category_id"},"نوع محصول",-1))),E=["data-value-id"],S=y((()=>(0,o.Lk)("option",{value:""},null,-1))),F=["value"],A={class:"col-3 ps-0 pe-1"},B=y((()=>(0,o.Lk)("label",{for:"brand"},"برند",-1))),X=["data-value-id"],q=y((()=>(0,o.Lk)("option",{value:""},null,-1))),w=["value"],K=(0,o.Fv)('<div class="col-4 ps-0 pe-1" data-v-63b9ea8a><label data-v-63b9ea8a>فضای تبلیغاتی</label><select class="form-select form-select-sm" name="space" data-v-63b9ea8a><option value="استیکر" data-v-63b9ea8a>استیکر</option><option value="تابلو فروشگاه" data-v-63b9ea8a>تابلو فروشگاه</option><option value="سایه بان" data-v-63b9ea8a>سایه بان</option><option value="پوستر" data-v-63b9ea8a>پوستر</option><option value="استند" data-v-63b9ea8a>استند</option><option value="دنگلر" data-v-63b9ea8a>دنگلر</option><option value="لایت باکس" data-v-63b9ea8a>لایت باکس</option><option value="وابلر" data-v-63b9ea8a>وابلر</option><option value="شلف تاکر" data-v-63b9ea8a>شلف تاکر</option><option value="پروموتر" data-v-63b9ea8a>پروموتر</option><option value="پلی شلف" data-v-63b9ea8a>پلی شلف</option></select></div><div class="col-2 ps-0 pe-1" data-v-63b9ea8a><label data-v-63b9ea8a>چیدمان</label><select class="form-select form-select-sm" name="layout" data-v-63b9ea8a><option value="1" data-v-63b9ea8a>1</option><option value="2" data-v-63b9ea8a>2</option><option value="3" data-v-63b9ea8a>3</option><option value="4" data-v-63b9ea8a>4</option><option value="5" data-v-63b9ea8a>5</option></select></div>',2),I={class:"col-12 px-1"},N=y((()=>(0,o.Lk)("label",null,"sku ها",-1))),M={class:"d-flex justify-content-start flex-wrap mb-2"},R={class:"form-check me-2"},Z=["value","name","id"],Q=["for"],U=(0,o.Fv)('<div class="col-3 px-1" data-v-63b9ea8a><label data-v-63b9ea8a>تعداد‌ در‌ ‌دیدرس</label><input type="number" class="form-control form-control-sm en" name="face" data-v-63b9ea8a></div><div class="col-3 ps-0 pe-1" data-v-63b9ea8a><label data-v-63b9ea8a>شدت حضور</label><select class="form-select form-select-sm" name="presence" data-v-63b9ea8a><option value="1" data-v-63b9ea8a>1</option><option value="2" data-v-63b9ea8a>2</option><option value="3" data-v-63b9ea8a>3</option><option value="4" data-v-63b9ea8a>4</option><option value="5" data-v-63b9ea8a>5</option></select></div><div class="col-2 ps-0 pe-1" data-v-63b9ea8a><label class="" data-v-63b9ea8a>تاریخ انقضا</label><select class="form-select form-select-sm" name="expire_day" data-v-63b9ea8a><option value="1" data-v-63b9ea8a>1</option><option value="2" data-v-63b9ea8a>2</option><option value="3" data-v-63b9ea8a>3</option><option value="4" data-v-63b9ea8a>4</option><option value="5" data-v-63b9ea8a>5</option><option value="6" data-v-63b9ea8a>6</option><option value="7" data-v-63b9ea8a>7</option><option value="8" data-v-63b9ea8a>8</option><option value="9" data-v-63b9ea8a>9</option><option value="10" data-v-63b9ea8a>10</option><option value="11" data-v-63b9ea8a>11</option><option value="12" data-v-63b9ea8a>12</option><option value="13" data-v-63b9ea8a>13</option><option value="14" data-v-63b9ea8a>14</option><option value="15" data-v-63b9ea8a>15</option><option value="16" data-v-63b9ea8a>16</option><option value="17" data-v-63b9ea8a>17</option><option value="18" data-v-63b9ea8a>18</option><option value="19" data-v-63b9ea8a>19</option><option value="20" data-v-63b9ea8a>20</option><option value="21" data-v-63b9ea8a>21</option><option value="22" data-v-63b9ea8a>22</option><option value="23" data-v-63b9ea8a>23</option><option value="24" data-v-63b9ea8a>24</option><option value="25" data-v-63b9ea8a>25</option><option value="26" data-v-63b9ea8a>26</option><option value="27" data-v-63b9ea8a>27</option><option value="28" data-v-63b9ea8a>28</option><option value="29" data-v-63b9ea8a>29</option><option value="30" data-v-63b9ea8a>30</option><option value="31" data-v-63b9ea8a>31</option></select></div><div class="col-2 ps-0 pe-1" data-v-63b9ea8a><label data-v-63b9ea8a> </label><select class="form-select form-select-sm" name="expire_month" data-v-63b9ea8a><option value="1" data-v-63b9ea8a>1</option><option value="2" data-v-63b9ea8a>2</option><option value="3" data-v-63b9ea8a>3</option><option value="4" data-v-63b9ea8a>4</option><option value="5" data-v-63b9ea8a>5</option><option value="6" data-v-63b9ea8a>6</option><option value="7" data-v-63b9ea8a>7</option><option value="8" data-v-63b9ea8a>8</option><option value="9" data-v-63b9ea8a>9</option><option value="10" data-v-63b9ea8a>10</option><option value="11" data-v-63b9ea8a>11</option><option value="12" data-v-63b9ea8a>12</option></select></div><div class="col-2 ps-0 pe-1" data-v-63b9ea8a><label data-v-63b9ea8a> </label><input type="number" class="form-control form-control-sm en" value="1403" name="expire_year" data-v-63b9ea8a></div><div class="col-4 px-1" data-v-63b9ea8a><label data-v-63b9ea8a>قیمت بسته بندی</label><input type="number" min="0" class="form-control form-control-sm en" name="label_price" data-v-63b9ea8a></div><div class="col-4 ps-0 pe-1" data-v-63b9ea8a><label data-v-63b9ea8a>قیمت فروش</label><input type="number" min="0" class="form-control form-control-sm en" name="sale_price" data-v-63b9ea8a></div><div class="col-4 ps-0 pe-1" data-v-63b9ea8a><label data-v-63b9ea8a>قیمت پخش</label><input type="number" min="0" class="form-control form-control-sm en" name="distribute_price" data-v-63b9ea8a></div>',8),T={class:"col-12 px-1 mt-2"},W=y((()=>(0,o.Lk)("label",null,"تصویر چیدمان",-1)));function j(a,e,t,n,s,i){const r=(0,o.g2)("image-picker");return(0,o.uX)(),(0,o.CE)("div",{id:"form-section-"+t.index,class:"row mx-0 px-2 rounded position-relative pt-2 pb-3 my-4",style:{border:"solid  rgba(231,0,0,0.1) 1px","background-color":"rgba(231,0,0,0.05)"}},[(0,o.Lk)("div",{onClick:e[0]||(e[0]=e=>a.$parent.removeBrand(t.index)),style:{position:"absolute",top:"-10px",right:"-20px",cursor:"pointer","font-size":"18px"}},x),(0,o.Lk)("div",L,[C,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>n.selectedSkuCategory=a),"data-value-id":n.selectedSkuCategory.id,name:"sku_category",class:"form-select form-select-sm",id:"sku_category_id",required:""},[S,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.skuCategories,(a=>((0,o.uX)(),(0,o.CE)("option",{value:a},(0,g.v_)(a.title),9,F)))),256))],8,E),[[l.u1,n.selectedSkuCategory]])]),(0,o.Lk)("div",A,[B,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>n.selectedBrand=a),"data-value-id":n.selectedBrand.id,onChange:e[3]||(e[3]=(...a)=>n.loadSkus&&n.loadSkus(...a)),name:"brand",class:"form-select form-select-sm",id:"brand",required:""},[q,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.selectedSkuCategory.brands,(a=>((0,o.uX)(),(0,o.CE)("option",{value:a.brand},(0,g.v_)(a.brand.title),9,w)))),256))],40,X),[[l.u1,n.selectedBrand]])]),K,(0,o.Lk)("div",I,[N,(0,o.Lk)("div",M,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.skus,(a=>((0,o.uX)(),(0,o.CE)("div",R,[(0,o.Lk)("input",{class:"form-check-input",type:"checkbox",value:a.id,name:"skus_of_cat__"+n.selectedSkuCategory.id+"__brand"+n.selectedBrand.id,id:"sku_"+a.id},null,8,Z),(0,o.Lk)("label",{class:"form-check-label",for:"sku_"+a.id},(0,g.v_)(a.title),9,Q)])))),256))])]),U,(0,o.Lk)("div",T,[W,(0,o.bF)(r,{index:t.index,name:"formSectionImage"},null,8,["index"])])],8,h)}var V=t(8882),z={name:"FormSectionForm",components:{ImagePicker:V.A},props:["index"],setup(){const a=(0,k.lq)(),e=f.A.setup().panelUrl,t=(0,b.KR)([]),l=(0,b.KR)({}),n=(0,b.KR)({}),s=(0,b.KR)([]),i=()=>{axios.get(e+"category/sku").then((a=>{t.value=a.data})).catch((a=>{console.error(a)}))},r=()=>{console.log(l.value,n.value),l.value&&n.value&&axios.get(e+"sku?sku_category_id="+l.value.id+"&brand_id="+n.value.id).then((a=>{s.value=a.data,console.log(s.value)})).catch((a=>{console.error(a)}))};return(0,o.KC)((()=>{f.A.setup().checkUser(),i()})),{skuCategories:t,loadSkuCategories:i,selectedSkuCategory:l,skus:s,loadSkus:r,route:a,panelUrl:e,selectedBrand:n}}},J=t(1241);const $=(0,J.A)(z,[["render",j],["__scopeId","data-v-63b9ea8a"]]);var D=$,H=t(6083),O=t(9612),P={name:"Form",components:{CustomerInfo:H.A,FormSectionForm:D,BtnSubmit:O.A},setup(){const a=(0,k.rd)(),e=(0,k.lq)(),t=f.A.setup().panelUrl,l=(0,b.KR)({}),n=JSON.parse(localStorage.getItem("user")),s=(0,b.KR)({}),i=(0,b.KR)(0),r=()=>{axios.get(t+"customer/"+e.params.id).then((a=>{l.value=a.data})).catch((a=>{console.error(a)}))};(0,o.KC)((()=>{f.A.setup().checkUser(),r()}));const c=(0,b.KR)([]),d=()=>{let a={sku_category_id:"",brand_id:"",space:"",layout:"",sku_ids:"",face:"",presence:"",expire_day:"",expire_month:"",expire_year:"",label_price:"",sale_price:"",distribute_price:""};c.value.push(a)},u=a=>{c.value.splice(a,1)},p=()=>{i.value=f.A.setup().EmptyFieldsCount();let o=[];if(0===i.value){for(let a=0;a<document.getElementsByName("sku_category").length;a++){let e=document.getElementsByName("sku_category")[a].getAttribute("data-value-id"),t=document.getElementsByName("brand")[a].getAttribute("data-value-id"),l=[];document.querySelectorAll("[name='skus_of_cat__"+e+"__brand"+t+"']:checked").forEach((a=>{l.push(parseInt(a.value))})),o.push({sku_category_id:parseInt(e),brand_id:t,sku_ids:l,face:document.getElementsByName("face")[a].value,presence:document.getElementsByName("presence")[a].value,space:document.getElementsByName("space")[a].value,layout:document.getElementsByName("layout")[a].value,expire_date:document.getElementsByName("expire_year")[a].value+"-"+document.getElementsByName("expire_month")[a].value+"-"+document.getElementsByName("expire_day")[a].value,label_price:document.getElementsByName("label_price")[a].value,sale_price:document.getElementsByName("sale_price")[a].value,distribute_price:document.getElementsByName("distribute_price")[a].value,image:document.getElementsByName("image")[a].value})}axios.post(t+"form",{visitor_id:n.id,customer_id:e.params.id,description:document.querySelector("#description").value,form:o}).then((e=>{201!==e.status&&200!==e.status||(f.A.setup().reloadVisitor(),n.value=JSON.parse(localStorage.getItem("user")),setTimeout((()=>{a.push({name:"forms"})}),2e3))})).catch((a=>{console.error(a)}))}};return{formSections:c,addBrand:d,customer:l,visitor:n,findCustomer:r,router:a,route:e,form:s,removeBrand:u,saveForm:p,emptyFieldsCount:i}}};const G=(0,J.A)(P,[["render",m],["__scopeId","data-v-0a3cedd6"]]);var Y=G}}]);
//# sourceMappingURL=formCreate.1a2b33f5.js.map
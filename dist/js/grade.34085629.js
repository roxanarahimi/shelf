"use strict";(self["webpackChunkmonitoring"]=self["webpackChunkmonitoring"]||[]).push([[924],{8687:function(e,s,t){t.d(s,{A:function(){return E}});var c=t(6768),o=t(4232);const r={class:"align-self-start text-start bg-light rounded rounded p-3"},l={class:"px-1 mb-4 text-start"},u=["value"],a=(0,c.Lk)("b",null,"استان ",-1),n={class:"d-inline-block"},i=(0,c.Lk)("b",null," شهر ",-1),d={class:"d-inline-block"},m=(0,c.Lk)("br",null,null,-1),p=(0,c.Lk)("b",null," منطقه ",-1),k={class:"d-inline-block"},v=(0,c.Lk)("b",null," مسیر ",-1),L={class:"d-inline-block"},g=(0,c.Lk)("b",null," کد مسیر ",-1),f={class:"d-inline-block"},y={class:"d-flex justify-content-between"},b=(0,c.Lk)("b",null,"تلفن ",-1),_={class:"d-inline-block"},h={key:0},C=(0,c.Lk)("b",null,"گرید ",-1),x={class:"d-inline-block"};function q(e,s,t,q,S,A){return(0,c.uX)(),(0,c.CE)("div",r,[(0,c.Lk)("div",l,[(0,c.Lk)("input",{type:"hidden",id:"customer_id",value:t.customer.id},null,8,u),(0,c.Lk)("p",null,(0,o.v_)(t.customer.name),1),(0,c.Lk)("p",null,(0,o.v_)(t.customer.address),1),a,(0,c.Lk)("p",n,(0,o.v_)(t.customer.province.title),1),i,(0,c.Lk)("p",d,(0,o.v_)(t.customer.city.title),1),m,(0,c.Lk)("div",null,[p,(0,c.Lk)("p",k,(0,o.v_)(t.customer.region.title),1),v,(0,c.Lk)("p",L,(0,o.v_)(t.customer.path),1),g,(0,c.Lk)("p",f,(0,o.v_)(t.customer.path_code),1)]),(0,c.Lk)("div",null,[(0,c.Lk)("p",null,(0,o.v_)(t.customer.path_description),1)]),(0,c.Lk)("div",y,[(0,c.Lk)("div",null,[b,(0,c.Lk)("p",_,[(0,c.eW)((0,o.v_)(t.customer.phone)+" ",1),t.customer.mobile&&t.customer.phone?((0,c.uX)(),(0,c.CE)("span",h,"-")):(0,c.Q3)("",!0),(0,c.eW)(" "+(0,o.v_)(t.customer.mobile),1)])]),(0,c.Lk)("div",null,[C,(0,c.Lk)("p",x,(0,o.v_)(t.customer.scores?.grade),1)])])])])}var S={name:"CustomerInfo",props:["customer"]},A=t(1241);const X=(0,A.A)(S,[["render",q]]);var E=X},1803:function(e,s,t){t.r(s),t.d(s,{default:function(){return ae}});var c=t(6768),o=t(4232);const r={class:"d-grid text-start h-100 px-4"},l=(0,c.Lk)("b",{class:"mb-4 text-start d-block"},"گرید بندی فروشگاه",-1),u={class:"row p-0 m-0"},a={class:"col-6 px-1"},n=(0,c.Lk)("label",{for:"meterage"},"متراژ سوپر مارکت",-1),i={class:"form-select form-select-sm",id:"meterage"},d=["selected"],m=["selected"],p=["selected"],k=["selected"],v=["selected"],L={class:"col-6 px-1"},g=(0,c.Lk)("label",{for:"product_variety"},"تنوع محصولات",-1),f={class:"form-select form-select-sm",id:"product_variety"},y=["selected"],b=["selected"],_=["selected"],h=["selected"],C=["selected"],x={class:"col-6 px-1"},q=(0,c.Lk)("label",{for:"product_layout"},"چیدمان محصولات",-1),S={class:"form-select form-select-sm",id:"product_layout"},A=["selected"],X=["selected"],E=["selected"],F=["selected"],I=["selected"],K={class:"col-6 px-1"},w=(0,c.Lk)("label",{for:"equipment"},"تجهیزات سوپر مارکت",-1),U={class:"form-select form-select-sm",id:"equipment"},W=["selected"],z=["selected"],P=["selected"],Q=["selected"],R=["selected"],j={class:"col-12 px-1"},G=(0,c.Lk)("label",{for:"sector_id"},"محله",-1),B={class:"form-select form-select-sm",id:"sector_id"},D=["selected","value"],H={class:"px-1"},J=(0,c.Lk)("label",null,"تصویر سردر سوپر مارکت",-1),M={class:"align-self-end my-2"};function N(e,s,t,N,O,T){const V=(0,c.g2)("customer-info"),Y=(0,c.g2)("image-picker");return(0,c.uX)(),(0,c.CE)("div",r,[l,N.customer.id?((0,c.uX)(),(0,c.Wv)(V,{key:0,customer:N.customer},null,8,["customer"])):(0,c.Q3)("",!0),(0,c.Lk)("div",u,[(0,c.Lk)("div",a,[n,(0,c.Lk)("select",i,[(0,c.Lk)("option",{selected:N.customer.scores&&1==N.customer.scores.meterage,value:"1"},"کمتر از 12",8,d),(0,c.Lk)("option",{selected:N.customer.scores&&2==N.customer.scores.meterage,value:"2"},"12 تا 25",8,m),(0,c.Lk)("option",{selected:N.customer.scores&&3==N.customer.scores.meterage,value:"3"},"25 تا 45",8,p),(0,c.Lk)("option",{selected:N.customer.scores&&4==N.customer.scores.meterage,value:"4"},"45 تا 60",8,k),(0,c.Lk)("option",{selected:N.customer.scores&&5==N.customer.scores.meterage,value:"5"},"بیش از 60",8,v)])]),(0,c.Lk)("div",L,[g,(0,c.Lk)("select",f,[(0,c.Lk)("option",{selected:N.customer.scores&&1==N.customer.scores.product_variety,value:"1"},"1",8,y),(0,c.Lk)("option",{selected:N.customer.scores&&2==N.customer.scores.product_variety,value:"2"},"2",8,b),(0,c.Lk)("option",{selected:N.customer.scores&&3==N.customer.scores.product_variety,value:"3"},"3",8,_),(0,c.Lk)("option",{selected:N.customer.scores&&4==N.customer.scores.product_variety,value:"4"},"4",8,h),(0,c.Lk)("option",{selected:N.customer.scores&&5==N.customer.scores.product_variety,value:"5"},"5",8,C)])]),(0,c.Lk)("div",x,[q,(0,c.Lk)("select",S,[(0,c.Lk)("option",{selected:N.customer.scores&&1==N.customer.scores.product_layout,value:"1"},"1",8,A),(0,c.Lk)("option",{selected:N.customer.scores&&2==N.customer.scores.product_layout,value:"2"},"2",8,X),(0,c.Lk)("option",{selected:N.customer.scores&&3==N.customer.scores.product_layout,value:"3"},"3",8,E),(0,c.Lk)("option",{selected:N.customer.scores&&4==N.customer.scores.product_layout,value:"4"},"4",8,F),(0,c.Lk)("option",{selected:N.customer.scores&&5==N.customer.scores.product_layout,value:"5"},"5",8,I)])]),(0,c.Lk)("div",K,[w,(0,c.Lk)("select",U,[(0,c.Lk)("option",{selected:N.customer.scores&&1==N.customer.scores.equipment,value:"1"},"1",8,W),(0,c.Lk)("option",{selected:N.customer.scores&&2==N.customer.scores.equipment,value:"2"},"2",8,z),(0,c.Lk)("option",{selected:N.customer.scores&&3==N.customer.scores.equipment,value:"3"},"3",8,P),(0,c.Lk)("option",{selected:N.customer.scores&&4==N.customer.scores.equipment,value:"4"},"4",8,Q),(0,c.Lk)("option",{selected:N.customer.scores&&5==N.customer.scores.equipment,value:"5"},"5",8,R)])]),(0,c.Lk)("div",j,[G,(0,c.Lk)("select",B,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(N.sectors,(e=>((0,c.uX)(),(0,c.CE)("option",{selected:N.customer.scores&&N.customer.scores.sector.id==e.id,key:e.id,value:e.id},(0,o.v_)(e.title),9,D)))),128))])]),(0,c.Lk)("div",H,[J,(0,c.bF)(Y)])]),(0,c.Lk)("div",M,[(0,c.Lk)("button",{onClick:s[0]||(s[0]=(...e)=>N.saveScores&&N.saveScores(...e)),class:"btn bg"},"ذخیره")])])}t(4114);var O=t(144),T=t(1893),V=t(1387),Y=t(1877),Z=t(8687);const $=(0,c.Lk)("div",{class:"align-self-center mx-auto",style:{color:"rgba(231,0,0,0.69)"}},[(0,c.Lk)("i",{style:{"font-size":"35px"},class:"bi bi-image"}),(0,c.Lk)("p",{style:{"font-size":"15px"}},"بارگذاری تصویر")],-1),ee=[$];function se(e,s,t,o,r,l){return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.Lk)("div",{class:"rounded d-grid text-center cursor-pointer",onClick:s[0]||(s[0]=(...e)=>o.selectFile&&o.selectFile(...e)),style:{border:"dashed #e70000 1px",height:"200px",color:"#e70000"}},ee),(0,c.Lk)("input",{type:"file",id:"image0",onChange:s[1]||(s[1]=(...e)=>o.fileChanged&&o.fileChanged(...e)),accept:"image/*",capture:"environment"},null,32),(0,c.Lk)("input",{type:"file",id:"image1",onChange:s[2]||(s[2]=(...e)=>o.fileChanged&&o.fileChanged(...e)),accept:"image/*",capture:"user"},null,32),(0,c.Lk)("input",{type:"file",id:"image2",onChange:s[3]||(s[3]=(...e)=>o.fileChanged&&o.fileChanged(...e)),accept:"image/*",capture:"camera"},null,32),(0,c.Lk)("input",{type:"file",id:"image3",onChange:s[4]||(s[4]=(...e)=>o.fileChanged&&o.fileChanged(...e)),accept:"image/*;capture=camera"},null,32)],64)}var te={name:"ImagePicker",setup(){const e=()=>{document.querySelector("#image").click()},s=()=>{};return{selectFile:e,fileChanged:s}}},ce=t(1241);const oe=(0,ce.A)(te,[["render",se]]);var re=oe,le={name:"Grade",components:{ImagePicker:re,CustomerInfo:Z.A},setup(){const e=(0,V.lq)(),s=T.A.setup().panelUrl,t=(0,O.KR)({}),o=(0,O.KR)([]),r=()=>{axios.get(s+"customer/"+e.params.id).then((e=>{t.value=e.data})).then((()=>{l()})).catch((e=>{console.error(e)}))},l=()=>{axios.get(s+"sector?city_id="+t.value.city.id).then((e=>{o.value=e.data})).catch((e=>{console.error(e)}))},u=()=>{axios.post(s+"score",{customer_id:t.value.id,sector_id:document.querySelector("#sector_id").value,meterage:document.querySelector("#meterage").value,product_variety:document.querySelector("#product_variety").value,product_layout:document.querySelector("#product_layout").value,equipment:document.querySelector("#equipment").value}).then((e=>{Y.A.push({path:"/customer",query:{code:t.value.code}})})).catch((e=>{console.error(e)}))};return(0,c.KC)((()=>{T.A.setup().checkUser(),r()})),{panelUrl:s,loadSectors:l,sectors:o,customer:t,route:e,findCustomer:r,saveScores:u}}};const ue=(0,ce.A)(le,[["render",N]]);var ae=ue}}]);
//# sourceMappingURL=grade.34085629.js.map
"use strict";(self["webpackChunkmonitoring"]=self["webpackChunkmonitoring"]||[]).push([[325],{6083:function(e,l,s){s.d(l,{A:function(){return K}});var t=s(6768),n=s(4232);const i={class:"align-self-start text-start bg-light rounded rounded p-3",style:{border:"solid rgb(236,236,236) 1px"}},c={class:"px-1 mb-4 text-start"},o=["value"],a=(0,t.Lk)("b",null,"استان ",-1),r={class:"d-inline-block"},u=(0,t.Lk)("b",null," شهر ",-1),d={class:"d-inline-block"},p=(0,t.Lk)("br",null,null,-1),k=(0,t.Lk)("b",null," منطقه ",-1),m={class:"d-inline-block"},v=(0,t.Lk)("b",null," مسیر ",-1),L={class:"d-inline-block"},g=(0,t.Lk)("b",null," کد مسیر ",-1),b={class:"d-inline-block"},f={class:"d-flex justify-content-between"},x=(0,t.Lk)("b",null,"تلفن ",-1),_={class:"d-inline-block"},h={key:0},y=(0,t.Lk)("b",null,"گرید ",-1),C={class:"d-inline-block"};function X(e,l,s,X,E,A){return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("div",c,[(0,t.Lk)("input",{type:"hidden",id:"customer_id",value:s.customer.id},null,8,o),(0,t.Lk)("p",null,(0,n.v_)(s.customer.name),1),(0,t.Lk)("p",null,(0,n.v_)(s.customer.address),1),a,(0,t.Lk)("p",r,(0,n.v_)(s.customer.province.title),1),u,(0,t.Lk)("p",d,(0,n.v_)(s.customer.city.title),1),p,(0,t.Lk)("div",null,[k,(0,t.Lk)("p",m,(0,n.v_)(s.customer.region.title),1),v,(0,t.Lk)("p",L,(0,n.v_)(s.customer.path),1),g,(0,t.Lk)("p",b,(0,n.v_)(s.customer.path_code),1)]),(0,t.Lk)("div",null,[(0,t.Lk)("p",null,(0,n.v_)(s.customer.path_description),1)]),(0,t.Lk)("div",f,[(0,t.Lk)("div",null,[x,(0,t.Lk)("p",_,[(0,t.eW)((0,n.v_)(s.customer.phone)+" ",1),s.customer.mobile&&s.customer.phone?((0,t.uX)(),(0,t.CE)("span",h,"-")):(0,t.Q3)("",!0),(0,t.eW)(" "+(0,n.v_)(s.customer.mobile),1)])]),(0,t.Lk)("div",null,[y,(0,t.Lk)("p",C,(0,n.v_)(s.customer.scores?.grade),1)])])])])}var E={name:"CustomerInfo",props:["customer"]},A=s(1241);const F=(0,A.A)(E,[["render",X]]);var K=F},5005:function(e,l,s){s.d(l,{A:function(){return B}});var t=s(6768),n=s(4232);const i=e=>((0,t.Qi)("data-v-45945587"),e=e(),(0,t.jt)(),e),c=["id"],o={class:"col-3 px-1"},a=i((()=>(0,t.Lk)("label",null,"نوع محصول",-1))),r={class:"col-3 ps-0 pe-1"},u=i((()=>(0,t.Lk)("label",null,"برند",-1))),d={class:"col-4 ps-0 pe-1"},p=i((()=>(0,t.Lk)("label",null,"فضای تبلیغاتی",-1))),k={class:"col-2 ps-0 pe-1"},m=i((()=>(0,t.Lk)("label",null,"چیدمان",-1))),v={class:"col-12 px-1"},L=i((()=>(0,t.Lk)("label",null,"sku ها",-1))),g={class:"d-flex justify-content-start flex-wrap mb-2"},b={class:"form-check me-2"},f={class:"col-4 px-1"},x=i((()=>(0,t.Lk)("label",null,"تعداد‌ در‌ ‌دیدرس",-1))),_={class:"col-4 ps-0 pe-1"},h=i((()=>(0,t.Lk)("label",null,"شدت حضور",-1))),y={class:"col-4 ps-0 pe-1"},C=i((()=>(0,t.Lk)("label",{class:""},"تاریخ انقضا",-1))),X={class:"col-4 px-1"},E=i((()=>(0,t.Lk)("label",null,"قیمت بسته بندی",-1))),A={class:"col-4 ps-0 pe-1"},F=i((()=>(0,t.Lk)("label",null,"قیمت فروش",-1))),K={class:"col-4 ps-0 pe-1"},R=i((()=>(0,t.Lk)("label",null,"قیمت پخش",-1))),S={key:0,class:"col-12 px-1 mt-2"},Q=i((()=>(0,t.Lk)("label",null,"تصویر چیدمان",-1))),w={class:"rounded d-grid text-center p-1",style:{border:"dashed #c5c8cb 1px","min-height":"200px"}},I=["src"];function U(e,l,s,i,U,j){return(0,t.uX)(),(0,t.CE)("div",{id:"form-section-"+s.index,class:"row mx-0 px-2 rounded position-relative pt-2 pb-3 my-4",style:{border:"solid  rgba(231,0,0,0.1) 1px","background-color":"rgba(231,0,0,0.05)"}},[(0,t.Lk)("div",o,[a,(0,t.Lk)("p",null,(0,n.v_)(s.section.skuCategory.title),1)]),(0,t.Lk)("div",r,[u,(0,t.Lk)("p",null,(0,n.v_)(s.section.brand.title),1)]),(0,t.Lk)("div",d,[p,(0,t.Lk)("p",null,(0,n.v_)(s.section.space),1)]),(0,t.Lk)("div",k,[m,(0,t.Lk)("p",null,(0,n.v_)(s.section.layout),1)]),(0,t.Lk)("div",v,[L,(0,t.Lk)("div",g,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(s.section.skus,(e=>((0,t.uX)(),(0,t.CE)("p",b,(0,n.v_)(e.sku.title),1)))),256))])]),(0,t.Lk)("div",f,[x,(0,t.Lk)("p",null,(0,n.v_)(s.section.face),1)]),(0,t.Lk)("div",_,[h,(0,t.Lk)("p",null,(0,n.v_)(s.section.presence),1)]),(0,t.Lk)("div",y,[C,(0,t.Lk)("p",null,(0,n.v_)(s.section.expire_date),1)]),(0,t.Lk)("div",X,[E,(0,t.Lk)("p",null,(0,n.v_)(s.section.label_price),1)]),(0,t.Lk)("div",A,[F,(0,t.Lk)("p",null,(0,n.v_)(s.section.sale_price),1)]),(0,t.Lk)("div",K,[R,(0,t.Lk)("p",null,(0,n.v_)(s.section.distribute_price),1)]),s.section.image?((0,t.uX)(),(0,t.CE)("div",S,[Q,(0,t.Lk)("div",w,[(0,t.Lk)("img",{src:s.section.image,class:"w-100",alt:""},null,8,I)])])):(0,t.Q3)("",!0)],8,c)}var j=s(144),W=s(4803),q=s(1387),z=s(8882),J={name:"FormSection",components:{ImagePicker:z.A},props:["index","section"],setup(){const e=(0,q.lq)(),l=W.A.setup().panelUrl,s=(0,j.KR)([]),n=(0,j.KR)({}),i=(0,j.KR)({}),c=(0,j.KR)([]),o=()=>{console.log(n.value,i.value),n.value&&i.value&&axios.get(l+"sku?sku_category_id="+n.value.id+"&brand_id="+i.value.id).then((e=>{c.value=e.data,console.log(c.value)})).catch((e=>{console.error(e)}))};return(0,t.KC)((()=>{W.A.setup().checkUser()})),{skuCategories:s,selectedSkuCategory:n,skus:c,loadSkus:o,route:e,panelUrl:l,selectedBrand:i}}},P=s(1241);const T=(0,P.A)(J,[["render",U],["__scopeId","data-v-45945587"]]);var B=T},8882:function(e,l,s){s.d(l,{A:function(){return _}});var t=s(6768),n=s(5130);const i={key:0,class:"align-self-center mx-auto",style:{color:"#696969"}},c={key:0,class:"image-container p-1"},o=["src"],a={key:1},r=(0,t.Lk)("i",{style:{"font-size":"55px"},class:"bi bi-camera-fill"},null,-1),u=(0,t.Lk)("p",{style:{"font-size":"15px","margin-top":"-20px"}},"ثبت تصویر",-1),d=[r,u],p={key:1,class:"image-container p-1"},k=["src"],m=["id"],v=["id"];function L(e,l,s,r,u,L){return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",{class:"rounded d-grid text-center cursor-pointer",onClick:l[0]||(l[0]=(...e)=>r.selectFile&&r.selectFile(...e)),style:{border:"dashed #c5c8cb 1px","min-height":"200px"}},[r.selectedFile?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",i,[s.img?((0,t.uX)(),(0,t.CE)("div",c,[s.img?((0,t.uX)(),(0,t.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important","border-radius":"5px",height:"auto !important"},src:s.img},null,8,o)):(0,t.Q3)("",!0)])):((0,t.uX)(),(0,t.CE)("div",a,d))])),r.selectedFile?((0,t.uX)(),(0,t.CE)("div",p,[r.imageSrc?((0,t.uX)(),(0,t.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important","border-radius":"5px",height:"auto !important"},src:r.imageSrc},null,8,k)):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)]),(0,t.bo)((0,t.Lk)("input",{type:"hidden",name:"image",id:"image_code_"+s.index,"onUpdate:modelValue":l[1]||(l[1]=e=>r.imageSrc=e)},null,8,m),[[n.Jo,r.imageSrc]]),(0,t.Lk)("input",{class:"d-none",type:"file",id:"image_"+s.index,onChange:l[2]||(l[2]=(...e)=>r.fileChanged&&r.fileChanged(...e)),accept:"image/*",capture:"environment"},null,40,v)],64)}var g=s(144),b={name:"ImagePicker",props:["index","name","img"],setup(e){const l=()=>{document.querySelector("#image_"+e.index).click()},s=(0,g.KR)(),n=(0,g.KR)(null),i=new FileReader;i.onload=e=>{n.value=e.target.result};const c=e=>{let l=e.target.files||e.dataTransfer.files;l.length&&(s.value=l[0]),console.log("files",n.value)};return(0,t.nT)((()=>{s.value?i.readAsDataURL(s.value):n.value=null})),{selectFile:l,fileChanged:c,selectedFile:s,imageSrc:n,fileReader:i}}},f=s(1241);const x=(0,f.A)(b,[["render",L]]);var _=x},7303:function(e,l,s){s.r(l),s.d(l,{default:function(){return X}});var t=s(6768),n=s(4232);const i=e=>((0,t.Qi)("data-v-4dcd2014"),e=e(),(0,t.jt)(),e),c={class:"text-start px-4"},o=i((()=>(0,t.Lk)("b",{class:"mb-4 text-start d-block"},"فرم شلف مانیتورینگ",-1))),a={key:0},r={class:"d-flex justify-content-end mb-3"},u=i((()=>(0,t.Lk)("b",null,"تاریخ:",-1))),d={class:"d-inline-block"},p={key:1,class:"mt-3"},k=i((()=>(0,t.Lk)("b",null," برند های موجود",-1))),m={class:"px-0"},v=i((()=>(0,t.Lk)("label",null,"توضیحات",-1)));function L(e,l,s,i,L,g){const b=(0,t.g2)("customer-info"),f=(0,t.g2)("form-section");return(0,t.uX)(),(0,t.CE)("div",c,[o,i.form.id?((0,t.uX)(),(0,t.CE)("div",a,[(0,t.Lk)("div",r,[u,(0,t.Lk)("p",d,(0,n.v_)(i.form.created_at),1)]),i.customer.id?((0,t.uX)(),(0,t.Wv)(b,{key:0,customer:i.customer},null,8,["customer"])):(0,t.Q3)("",!0),i.form.id?((0,t.uX)(),(0,t.CE)("div",p,[k,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(i.form.sections,((e,l)=>((0,t.uX)(),(0,t.Wv)(f,{section:e,index:l},null,8,["section","index"])))),256))])):(0,t.Q3)("",!0),(0,t.Lk)("div",m,[v,(0,t.Lk)("p",null,(0,n.v_)(i.form.description),1)])])):(0,t.Q3)("",!0)])}var g=s(144),b=s(4803),f=s(1387),x=s(5005),_=s(6083),h={name:"Form",components:{CustomerInfo:_.A,FormSection:x.A},setup(){const e=(0,f.rd)(),l=(0,f.lq)(),s=b.A.setup().panelUrl,n=JSON.parse(localStorage.getItem("user")),i=(0,g.KR)(0),c=(0,g.KR)({}),o=(0,g.KR)({}),a=e=>{axios.get(s+"customer/"+e).then((e=>{c.value=e.data})).catch((e=>{console.error(e)}))},r=()=>{axios.get(s+"form/"+l.params.id).then((e=>{o.value=e.data})).then((e=>{a(o.value.customer.id)})).catch((e=>{console.error(e)}))};return(0,t.KC)((()=>{b.A.setup().checkUser(),r()})),{visitor:n,router:e,route:l,emptyFieldsCount:i,loadForm:r,form:o,customer:c,findCustomer:a}}},y=s(1241);const C=(0,y.A)(h,[["render",L],["__scopeId","data-v-4dcd2014"]]);var X=C}}]);
//# sourceMappingURL=form.ce2c7818.js.map
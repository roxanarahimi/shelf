"use strict";(self["webpackChunkmonitoring"]=self["webpackChunkmonitoring"]||[]).push([[325],{8687:function(e,a,l){l.d(a,{A:function(){return S}});var t=l(6768),o=l(4232);const n={class:"align-self-start text-start bg-light rounded rounded p-3"},s={class:"px-1 mb-4 text-start"},d=["value"],i=(0,t.Lk)("b",null,"استان ",-1),c={class:"d-inline-block"},r=(0,t.Lk)("b",null," شهر ",-1),u={class:"d-inline-block"},v=(0,t.Lk)("br",null,null,-1),p=(0,t.Lk)("b",null," منطقه ",-1),m={class:"d-inline-block"},k=(0,t.Lk)("b",null," مسیر ",-1),b={class:"d-inline-block"},f=(0,t.Lk)("b",null," کد مسیر ",-1),g={class:"d-inline-block"},x={class:"d-flex justify-content-between"},L=(0,t.Lk)("b",null,"تلفن ",-1),y={class:"d-inline-block"},C={key:0},h=(0,t.Lk)("b",null,"گرید ",-1),_={class:"d-inline-block"};function F(e,a,l,F,X,K){return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",s,[(0,t.Lk)("input",{type:"hidden",id:"customer_id",value:l.customer.id},null,8,d),(0,t.Lk)("p",null,(0,o.v_)(l.customer.name),1),(0,t.Lk)("p",null,(0,o.v_)(l.customer.address),1),i,(0,t.Lk)("p",c,(0,o.v_)(l.customer.province.title),1),r,(0,t.Lk)("p",u,(0,o.v_)(l.customer.city.title),1),v,(0,t.Lk)("div",null,[p,(0,t.Lk)("p",m,(0,o.v_)(l.customer.region.title),1),k,(0,t.Lk)("p",b,(0,o.v_)(l.customer.path),1),f,(0,t.Lk)("p",g,(0,o.v_)(l.customer.path_code),1)]),(0,t.Lk)("div",null,[(0,t.Lk)("p",null,(0,o.v_)(l.customer.path_description),1)]),(0,t.Lk)("div",x,[(0,t.Lk)("div",null,[L,(0,t.Lk)("p",y,[(0,t.eW)((0,o.v_)(l.customer.phone)+" ",1),l.customer.mobile&&l.customer.phone?((0,t.uX)(),(0,t.CE)("span",C,"-")):(0,t.Q3)("",!0),(0,t.eW)(" "+(0,o.v_)(l.customer.mobile),1)])]),(0,t.Lk)("div",null,[h,(0,t.Lk)("p",_,(0,o.v_)(l.customer.scores?.grade),1)])])])])}var X={name:"CustomerInfo",props:["customer"]},K=l(1241);const E=(0,K.A)(X,[["render",F]]);var S=E},8894:function(e,a,l){l.d(a,{A:function(){return b}});var t=l(6768);const o={key:0,class:"align-self-center mx-auto",style:{color:"rgba(231,0,0,0.69)"}},n=(0,t.Lk)("i",{style:{"font-size":"35px"},class:"bi bi-image"},null,-1),s=(0,t.Lk)("p",{style:{"font-size":"15px"}},"بارگذاری تصویر",-1),d=[n,s],i={key:1,class:"image-container"},c=["src"],r=["id"];function u(e,a,l,n,s,u){return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",{class:"rounded d-grid text-center cursor-pointer",onClick:a[0]||(a[0]=(...e)=>n.selectFile&&n.selectFile(...e)),style:{border:"dashed #e70000 1px","min-height":"200px",color:"#e70000"}},[n.selectedFile?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",o,d)),n.selectedFile?((0,t.uX)(),(0,t.CE)("div",i,[n.imageSrc?((0,t.uX)(),(0,t.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important",height:"auto !important"},src:n.imageSrc},null,8,c)):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)]),(0,t.Lk)("input",{class:"d-none",type:"file",id:"image_"+l.index,onChange:a[1]||(a[1]=(...e)=>n.fileChanged&&n.fileChanged(...e)),accept:"image/*",capture:"environment"},null,40,r)],64)}var v=l(144),p={name:"ImagePicker",props:["index"],setup(e){const a=()=>{document.querySelector("#image_"+e.index).click()},l=(0,v.KR)(),o=(0,v.KR)(null),n=new FileReader;n.onload=e=>{o.value=e.target.result};const s=e=>{let a=e.target.files||e.dataTransfer.files;a.length&&(l.value=a[0]),console.log("files",o.value)};return(0,t.nT)((()=>{l.value?n.readAsDataURL(l.value):o.value=null})),{selectFile:a,fileChanged:s,selectedFile:l,imageSrc:o,fileReader:n}}},m=l(1241);const k=(0,m.A)(p,[["render",u]]);var b=k},2551:function(e,a,l){l.r(a),l.d(a,{default:function(){return N}});var t=l(6768);const o=e=>((0,t.Qi)("data-v-727be4a9"),e=e(),(0,t.jt)(),e),n={class:"text-start px-4"},s=o((()=>(0,t.Lk)("b",{class:"mb-4 text-start d-block"},"فرم شلف مانیتورینگ",-1))),d=o((()=>(0,t.Lk)("div",{class:"d-flex justify-content-end mb-3"},[(0,t.Lk)("b",null,"تاریخ:"),(0,t.Lk)("p",{class:"d-inline-block"},"1403/05/10")],-1))),i={class:"mt-3"},c=o((()=>(0,t.Lk)("b",null," برند های موجود",-1))),r=o((()=>(0,t.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1))),u=(0,t.Fv)('<div class="px-0" data-v-727be4a9><label for="description" data-v-727be4a9>توضیحات</label><textarea id="description" class="form-control form-control-sm" rows="3" data-v-727be4a9></textarea></div><div class="px-0 my-4" data-v-727be4a9><button class="btn" style="background-color:#e70000;color:white;" data-v-727be4a9>ذخیره</button></div>',2);function v(e,a,l,o,v,p){const m=(0,t.g2)("customer-info"),k=(0,t.g2)("form-section");return(0,t.uX)(),(0,t.CE)("div",n,[s,d,o.customer.id?((0,t.uX)(),(0,t.Wv)(m,{key:0,customer:o.customer},null,8,["customer"])):(0,t.Q3)("",!0),(0,t.Lk)("div",i,[c,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.brands,((e,a)=>((0,t.uX)(),(0,t.Wv)(k,{info:e,index:a},null,8,["info","index"])))),256))]),(0,t.Lk)("b",{onClick:a[0]||(a[0]=(...e)=>o.addBrand&&o.addBrand(...e)),class:"cursor-pointer"},[(0,t.eW)("افزودن "),r]),u])}var p=l(144),m=l(1893),k=l(1387),b=l(4232),f=l(5130);const g=e=>((0,t.Qi)("data-v-99e43daa"),e=e(),(0,t.jt)(),e),x={class:"row mx-0 px-2 rounded position-relative pb-4 my-4",style:{"background-color":"rgba(231,0,0,0.05)"}},L=g((()=>(0,t.Lk)("i",{class:"bi bi-x-circle-fill"},null,-1))),y=[L],C={class:"col-3 px-1"},h=g((()=>(0,t.Lk)("label",{for:"sku_category_id"},"نوع محصول",-1))),_=g((()=>(0,t.Lk)("option",{value:""},null,-1))),F=["value"],X={class:"col-3 px-1"},K=g((()=>(0,t.Lk)("label",{for:"brand"},"برند",-1))),E=g((()=>(0,t.Lk)("option",{value:""},null,-1))),S=["value"],A=(0,t.Fv)('<div class="col-4 px-1" data-v-99e43daa><label data-v-99e43daa>فضای تبلیغاتی</label><select class="form-select form-select-sm" name="space" data-v-99e43daa><option value="استیکر" data-v-99e43daa>استیکر</option><option value="تابلو فروشگاه" data-v-99e43daa>تابلو فروشگاه</option><option value="سایه بان" data-v-99e43daa>سایه بان</option><option value="پوستر" data-v-99e43daa>پوستر</option><option value="استند" data-v-99e43daa>استند</option><option value="دنگلر" data-v-99e43daa>دنگلر</option><option value="لایت باکس" data-v-99e43daa>لایت باکس</option><option value="وابلر" data-v-99e43daa>وابلر</option><option value="شلف تاکر" data-v-99e43daa>شلف تاکر</option><option value="پروموتر" data-v-99e43daa>پروموتر</option><option value="پلی شلف" data-v-99e43daa>پلی شلف</option></select></div><div class="col-2 px-1" data-v-99e43daa><label data-v-99e43daa>چیدمان</label><select class="form-select form-select-sm" name="layout" data-v-99e43daa><option value="1" data-v-99e43daa>1</option><option value="2" data-v-99e43daa>2</option><option value="3" data-v-99e43daa>3</option><option value="4" data-v-99e43daa>4</option><option value="5" data-v-99e43daa>5</option></select></div>',2),R={class:"col-12 px-1"},I=g((()=>(0,t.Lk)("label",null,"sku ها",-1))),w={class:"d-flex justify-content-start flex-wrap mb-2"},B={class:"form-check me-2"},U=["id"],Q=["for"],j=(0,t.Fv)('<div class="col-4 px-1" data-v-99e43daa><label data-v-99e43daa>تعداد‌ در‌ ‌دیدرس‌face</label><input type="number" class="form-control form-control-sm en" name="face" data-v-99e43daa></div><div class="col-4 px-1" data-v-99e43daa><label data-v-99e43daa>شدت حضور</label><select class="form-select form-select-sm" name="presence" data-v-99e43daa><option value="1" data-v-99e43daa>1</option><option value="2" data-v-99e43daa>2</option><option value="3" data-v-99e43daa>3</option><option value="4" data-v-99e43daa>4</option><option value="5" data-v-99e43daa>5</option></select></div><div class="col-4 px-1" data-v-99e43daa><label data-v-99e43daa>تاریخ انقضا</label><input type="text" class="form-control form-control-sm en" name="expire_date" data-v-99e43daa></div><div class="col-4 px-1" data-v-99e43daa><label data-v-99e43daa>قیمت بسته بندی</label><input type="number" min="0" class="form-control form-control-sm en" name="label_price" data-v-99e43daa></div><div class="col-4 px-1" data-v-99e43daa><label data-v-99e43daa>قیمت فروش</label><input type="number" min="0" class="form-control form-control-sm en" name="sale_price" data-v-99e43daa></div><div class="col-4 px-1" data-v-99e43daa><label data-v-99e43daa>قیمت پخش</label><input type="number" min="0" class="form-control form-control-sm en" name="distribute_price" data-v-99e43daa></div>',6),W={class:"col-12 px-1 mt-2"},q=g((()=>(0,t.Lk)("label",null,"تصویر چیدمان",-1)));function z(e,a,l,o,n,s){const d=(0,t.g2)("image-picker");return(0,t.uX)(),(0,t.CE)("div",x,[(0,t.Lk)("div",{onClick:a[0]||(a[0]=a=>e.removeBrand(l.index)),style:{position:"absolute",top:"-10px",right:"-20px",cursor:"pointer","font-size":"18px"}},y),(0,t.Lk)("div",C,[h,(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>o.selectedSkuCategory=e),name:"sku_category",class:"form-select form-select-sm",id:"sku_category_id"},[_,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.skuCategories,(e=>((0,t.uX)(),(0,t.CE)("option",{value:e},(0,b.v_)(e.title),9,F)))),256))],512),[[f.u1,o.selectedSkuCategory]])]),(0,t.Lk)("div",X,[K,(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>o.selectedBrand=e),onChange:a[3]||(a[3]=(...e)=>o.loadSkus&&o.loadSkus(...e)),name:"brand",class:"form-select form-select-sm",id:"brand"},[E,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.selectedSkuCategory.brands,(e=>((0,t.uX)(),(0,t.CE)("option",{value:e.brand},(0,b.v_)(e.brand.title),9,S)))),256))],544),[[f.u1,o.selectedBrand]])]),A,(0,t.Lk)("div",R,[I,(0,t.Lk)("div",w,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.skus,((e,a)=>((0,t.uX)(),(0,t.CE)("div",B,[(0,t.Lk)("input",{class:"form-check-input",type:"checkbox",value:"",id:"sku-"+a},null,8,U),(0,t.Lk)("label",{class:"form-check-label",for:"sku-"+a},(0,b.v_)(e.title),9,Q)])))),256))])]),j,(0,t.Lk)("div",W,[q,(0,t.bF)(d,{index:l.index},null,8,["index"])])])}var P=l(8894),T={name:"FormSection",components:{ImagePicker:P.A},props:["index"],setup(){const e=(0,k.lq)(),a=m.A.setup().panelUrl,l=(0,p.KR)([]),o=(0,p.KR)({}),n=(0,p.KR)({}),s=(0,p.KR)([]),d=()=>{axios.get(a+"category/sku").then((e=>{l.value=e.data})).catch((e=>{console.error(e)}))},i=()=>{console.log(o.value,n.value),o.value&&n.value&&axios.get(a+"sku?sku_category_id="+o.value.id+"&brand_id="+n.value.id).then((e=>{s.value=e.data,console.log(s.value)})).catch((e=>{console.error(e)}))};return(0,t.KC)((()=>{m.A.setup().checkUser(),d()})),{skuCategories:l,loadSkuCategories:d,selectedSkuCategory:o,skus:s,loadSkus:i,route:e,panelUrl:a,selectedBrand:n}}},V=l(1241);const D=(0,V.A)(T,[["render",z],["__scopeId","data-v-99e43daa"]]);var G=D,H=l(8687),J={name:"Form",components:{CustomerInfo:H.A,FormSection:G},setup(){const e=(0,k.lq)(),a=m.A.setup().panelUrl,l=(0,p.KR)({}),o=(0,p.KR)({}),n=()=>{axios.get(a+"customer/"+e.params.id).then((e=>{l.value=e.data})).catch((e=>{console.error(e)}))};(0,t.KC)((()=>{m.A.setup().checkUser(),n()}));const s=(0,p.KR)(1),d=()=>{s.value+=1},i=e=>{};return{brands:s,addBrand:d,customer:l,findCustomer:n,route:e,form:o,removeBrand:i}}};const M=(0,V.A)(J,[["render",v],["__scopeId","data-v-727be4a9"]]);var N=M}}]);
//# sourceMappingURL=form.460f5792.js.map
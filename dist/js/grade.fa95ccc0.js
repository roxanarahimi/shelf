"use strict";(self["webpackChunkmonitoring"]=self["webpackChunkmonitoring"]||[]).push([[924,659],{8855:function(e,s,t){t.r(s),t.d(s,{default:function(){return z}});var o=t(6768),c=t(4232),l=t(5130);const r={class:"d-grid h-100 px-4 w-100"},u={class:"row text-start px-2 align-self-start"},d=(0,o.Lk)("b",{class:"mb-5 text-start d-block"},"جستجوی مشتری",-1),n={class:"col-12 px-1"},a=(0,o.Lk)("label",{for:"code"},"کد مشتری",-1),i={class:"input-group mb-3 px-1"},m=(0,o.Lk)("input",{type:"number",class:"form-control form-control-sm en",id:"code"},null,-1),k={key:0,class:"mt-4 text-start bg-light rounded p-3"},p=["value"],v=(0,o.Lk)("b",{class:"d-block mb-3"},"اطلاعات مشتری:",-1),L=(0,o.Lk)("b",null,"استان ",-1),b={class:"d-inline-block"},_=(0,o.Lk)("b",null," شهر ",-1),y={class:"d-inline-block"},f=(0,o.Lk)("br",null,null,-1),g=(0,o.Lk)("b",null," منطقه ",-1),h={class:"d-inline-block"},x=(0,o.Lk)("b",null," مسیر ",-1),q={class:"d-inline-block"},C=(0,o.Lk)("b",null," کد مسیر ",-1),S={class:"d-inline-block"},w=(0,o.Lk)("b",null,"تلفن ",-1),E={class:"d-inline-block"},X={key:0},A=(0,o.Lk)("br",null,null,-1),K=(0,o.Lk)("b",null,"گرید ",-1),U={class:"d-inline-block"},W={class:"px-1 d-flex justify-content-between align-self-end"};function Q(e,s,t,Q,j,F){const G=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",u,[d,(0,o.Lk)("div",n,[a,(0,o.Lk)("div",i,[m,(0,o.Lk)("button",{class:"btn bg rounded-end rounded-end-5 px-5",onClick:s[0]||(s[0]=(...e)=>Q.findCustomer&&Q.findCustomer(...e)),id:"button-addon"},"جستجو ")])]),Q.customer.id?((0,o.uX)(),(0,o.CE)("div",k,[(0,o.Lk)("input",{type:"hidden",id:"customer_id",value:Q.customer.id},null,8,p),v,(0,o.Lk)("p",null,(0,c.v_)(Q.customer.name),1),(0,o.Lk)("p",null,(0,c.v_)(Q.customer.address),1),L,(0,o.Lk)("p",b,(0,c.v_)(Q.customer.province.title),1),_,(0,o.Lk)("p",y,(0,c.v_)(Q.customer.city.title),1),f,g,(0,o.Lk)("p",h,(0,c.v_)(Q.customer.region.title),1),x,(0,o.Lk)("p",q,(0,c.v_)(Q.customer.path),1),C,(0,o.Lk)("p",S,(0,c.v_)(Q.customer.path_code),1),(0,o.Lk)("p",null,(0,c.v_)(Q.customer.path_description),1),w,(0,o.Lk)("p",E,[(0,o.eW)((0,c.v_)(Q.customer.phone)+" ",1),Q.customer.mobile&&Q.customer.phone?((0,o.uX)(),(0,o.CE)("span",X,"-")):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,c.v_)(Q.customer.mobile),1)]),A,K,(0,o.Lk)("p",U,(0,c.v_)(Q.customer.scores?.grade),1)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",W,[(0,o.bo)((0,o.bF)(G,{to:"/form/"+Q.customer.id,class:"btn",style:{"background-color":"#e70000",color:"white"}},{default:(0,o.k6)((()=>[(0,o.eW)("ایجاد فرم ")])),_:1},8,["to"]),[[l.aG,Q.customer.id]]),(0,o.bo)((0,o.bF)(G,{to:"/grade/"+Q.customer.id,class:"btn btn-secondary"},{default:(0,o.k6)((()=>[(0,o.eW)("گرید بندی")])),_:1},8,["to"]),[[l.aG,Q.customer.id]])])])}var j=t(144),F=t(3120),G=t(1387),R={name:"Customer",setup(){const e=F.A.setup().panelUrl,s=(0,G.lq)(),t=(0,j.KR)({}),c=()=>{axios.get(e+"customer/by/code/"+document.querySelector("#code").value).then((e=>{t.value=e.data})).catch((e=>{console.error(e)}))};return(0,o.KC)((()=>{F.A.setup().checkUser()})),(0,o.sV)((()=>{s.query.code&&(document.querySelector("#code").value=s.query.code,c())})),{findCustomer:c,customer:t,panelUrl:e,route:s}}},I=t(1241);const V=(0,I.A)(R,[["render",Q]]);var z=V},158:function(e,s,t){t.r(s),t.d(s,{default:function(){return ge}});var o=t(6768),c=t(4232);const l={class:"d-grid text-start h-100 px-4"},r=(0,o.Lk)("b",{class:"mb-4 text-start d-block"},"گرید بندی فروشگاه",-1),u={key:0,class:"bg-light rounded p-3 mb-4"},d={class:"px-1 text-start"},n=["value"],a=(0,o.Lk)("b",null,"استان ",-1),i={class:"d-inline-block"},m=(0,o.Lk)("b",null," شهر ",-1),k={class:"d-inline-block"},p=(0,o.Lk)("br",null,null,-1),v={class:"d-flex justify-content-between"},L=(0,o.Lk)("b",null," منطقه ",-1),b={class:"d-inline-block"},_=(0,o.Lk)("b",null," مسیر ",-1),y={class:"d-inline-block"},f=(0,o.Lk)("b",null," کد مسیر ",-1),g={class:"d-inline-block"},h={class:"d-flex justify-content-between"},x=(0,o.Lk)("b",null,"تلفن ",-1),q={class:"d-inline-block"},C={key:0},S=(0,o.Lk)("b",null,"گرید ",-1),w={class:"d-inline-block"},E={class:"row p-0 m-0"},X={class:"col-6 px-1"},A=(0,o.Lk)("label",{for:"meterage"},"متراژ سوپر مارکت",-1),K={class:"form-select form-select-sm",id:"meterage"},U=["selected"],W=["selected"],Q=["selected"],j=["selected"],F=["selected"],G={class:"col-6 px-1"},R=(0,o.Lk)("label",{for:"product_variety"},"تنوع محصولات",-1),I={class:"form-select form-select-sm",id:"product_variety"},V=["selected"],z=["selected"],B=["selected"],D=["selected"],H=["selected"],J={class:"col-6 px-1"},M=(0,o.Lk)("label",{for:"product_layout"},"چیدمان محصولات",-1),N={class:"form-select form-select-sm",id:"product_layout"},O=["selected"],P=["selected"],T=["selected"],Y=["selected"],Z=["selected"],$={class:"col-6 px-1"},ee=(0,o.Lk)("label",{for:"equipment"},"تجهیزات سوپر مارکت",-1),se={class:"form-select form-select-sm",id:"equipment"},te=["selected"],oe=["selected"],ce=["selected"],le=["selected"],re=["selected"],ue={class:"col-12 px-1"},de=(0,o.Lk)("label",{for:"sector_id"},"محله",-1),ne={class:"form-select form-select-sm",id:"sector_id"},ae=["selected","value"],ie=(0,o.Lk)("div",{class:"px-1"},[(0,o.Lk)("label",{for:"image"},"تصویر سردر سوپر مارکت"),(0,o.Lk)("div",{class:"rounded",id:"image",style:{border:"dashed #c9c9c9 1px",height:"100px"}})],-1),me={class:"align-self-end my-2"};function ke(e,s,t,ke,pe,ve){return(0,o.uX)(),(0,o.CE)("div",l,[r,ke.customer.id?((0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("div",d,[(0,o.Lk)("input",{type:"hidden",id:"customer_id",value:ke.customer.id},null,8,n),(0,o.Lk)("p",null,(0,c.v_)(ke.customer.name),1),(0,o.Lk)("p",null,(0,c.v_)(ke.customer.address),1),a,(0,o.Lk)("p",i,(0,c.v_)(ke.customer.province.title),1),m,(0,o.Lk)("p",k,(0,c.v_)(ke.customer.city.title),1),p,(0,o.Lk)("div",v,[(0,o.Lk)("div",null,[L,(0,o.Lk)("p",b,(0,c.v_)(ke.customer.region.title),1),_,(0,o.Lk)("p",y,(0,c.v_)(ke.customer.path),1),f,(0,o.Lk)("p",g,(0,c.v_)(ke.customer.path_code),1)]),(0,o.Lk)("div",null,[(0,o.Lk)("p",null,(0,c.v_)(ke.customer.path_description),1)])]),(0,o.Lk)("div",h,[(0,o.Lk)("div",null,[x,(0,o.Lk)("p",q,[(0,o.eW)((0,c.v_)(ke.customer.phone)+" ",1),ke.customer.mobile&&ke.customer.phone?((0,o.uX)(),(0,o.CE)("span",C,"-")):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,c.v_)(ke.customer.mobile),1)])]),(0,o.Lk)("div",null,[S,(0,o.Lk)("p",w,(0,c.v_)(ke.customer.scores?.grade),1)])])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",E,[(0,o.Lk)("div",X,[A,(0,o.Lk)("select",K,[(0,o.Lk)("option",{selected:ke.customer.scores&&1==ke.customer.scores.meterage,value:"1"},"کمتر از 12",8,U),(0,o.Lk)("option",{selected:ke.customer.scores&&2==ke.customer.scores.meterage,value:"2"},"12 تا 25",8,W),(0,o.Lk)("option",{selected:ke.customer.scores&&3==ke.customer.scores.meterage,value:"3"},"25 تا 45",8,Q),(0,o.Lk)("option",{selected:ke.customer.scores&&4==ke.customer.scores.meterage,value:"4"},"45 تا 60",8,j),(0,o.Lk)("option",{selected:ke.customer.scores&&5==ke.customer.scores.meterage,value:"5"},"بیش از 60",8,F)])]),(0,o.Lk)("div",G,[R,(0,o.Lk)("select",I,[(0,o.Lk)("option",{selected:ke.customer.scores&&1==ke.customer.scores.product_variety,value:"1"},"1",8,V),(0,o.Lk)("option",{selected:ke.customer.scores&&2==ke.customer.scores.product_variety,value:"2"},"2",8,z),(0,o.Lk)("option",{selected:ke.customer.scores&&3==ke.customer.scores.product_variety,value:"3"},"3",8,B),(0,o.Lk)("option",{selected:ke.customer.scores&&4==ke.customer.scores.product_variety,value:"4"},"4",8,D),(0,o.Lk)("option",{selected:ke.customer.scores&&5==ke.customer.scores.product_variety,value:"5"},"5",8,H)])]),(0,o.Lk)("div",J,[M,(0,o.Lk)("select",N,[(0,o.Lk)("option",{selected:ke.customer.scores&&1==ke.customer.scores.product_layout,value:"1"},"1",8,O),(0,o.Lk)("option",{selected:ke.customer.scores&&2==ke.customer.scores.product_layout,value:"2"},"2",8,P),(0,o.Lk)("option",{selected:ke.customer.scores&&3==ke.customer.scores.product_layout,value:"3"},"3",8,T),(0,o.Lk)("option",{selected:ke.customer.scores&&4==ke.customer.scores.product_layout,value:"4"},"4",8,Y),(0,o.Lk)("option",{selected:ke.customer.scores&&5==ke.customer.scores.product_layout,value:"5"},"5",8,Z)])]),(0,o.Lk)("div",$,[ee,(0,o.Lk)("select",se,[(0,o.Lk)("option",{selected:ke.customer.scores&&1==ke.customer.scores.equipment,value:"1"},"1",8,te),(0,o.Lk)("option",{selected:ke.customer.scores&&2==ke.customer.scores.equipment,value:"2"},"2",8,oe),(0,o.Lk)("option",{selected:ke.customer.scores&&3==ke.customer.scores.equipment,value:"3"},"3",8,ce),(0,o.Lk)("option",{selected:ke.customer.scores&&4==ke.customer.scores.equipment,value:"4"},"4",8,le),(0,o.Lk)("option",{selected:ke.customer.scores&&5==ke.customer.scores.equipment,value:"5"},"5",8,re)])]),(0,o.Lk)("div",ue,[de,(0,o.Lk)("select",ne,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(ke.sectors,(e=>((0,o.uX)(),(0,o.CE)("option",{selected:ke.customer.scores&&ke.customer.scores.sector.id==e.id,key:e.id,value:e.id},(0,c.v_)(e.title),9,ae)))),128))])]),ie]),(0,o.Lk)("div",me,[(0,o.Lk)("button",{onClick:s[0]||(s[0]=(...e)=>ke.saveScores&&ke.saveScores(...e)),class:"btn bg"},"ذخیره")])])}t(4114);var pe=t(144),ve=t(3120),Le=(t(8855),t(1387)),be=t(1877),_e={name:"Grade",setup(){const e=(0,Le.lq)(),s=ve.A.setup().panelUrl,t=(0,pe.KR)({}),c=(0,pe.KR)([]),l=()=>{axios.get(s+"customer/"+e.params.id).then((e=>{t.value=e.data})).then((()=>{r()})).catch((e=>{console.error(e)}))},r=()=>{axios.get(s+"sector?city_id="+t.value.city.id).then((e=>{c.value=e.data})).catch((e=>{console.error(e)}))},u=()=>{axios.post(s+"score",{customer_id:t.value.id,sector_id:document.querySelector("#sector_id").value,meterage:document.querySelector("#meterage").value,product_variety:document.querySelector("#product_variety").value,product_layout:document.querySelector("#product_layout").value,equipment:document.querySelector("#equipment").value}).then((e=>{be.A.push({path:"/customer",query:{code:t.value.code}})})).catch((e=>{console.error(e)}))};return(0,o.KC)((()=>{ve.A.setup().checkUser(),l()})),{panelUrl:s,loadSectors:r,sectors:c,customer:t,route:e,findCustomer:l,saveScores:u}}},ye=t(1241);const fe=(0,ye.A)(_e,[["render",ke]]);var ge=fe}}]);
//# sourceMappingURL=grade.fa95ccc0.js.map
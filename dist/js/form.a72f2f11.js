"use strict";(self["webpackChunkmonitoring"]=self["webpackChunkmonitoring"]||[]).push([[325],{6083:function(e,a,o){o.d(a,{A:function(){return S}});var t=o(6768),l=o(4232);const n={class:"align-self-start text-start bg-light rounded rounded p-3",style:{border:"solid rgb(236,236,236) 1px"}},c={class:"px-1 mb-4 text-start"},i=["value"],s=(0,t.Lk)("b",null,"استان ",-1),d={class:"d-inline-block"},v=(0,t.Lk)("b",null," شهر ",-1),u={class:"d-inline-block"},p=(0,t.Lk)("br",null,null,-1),r=(0,t.Lk)("b",null," منطقه ",-1),b={class:"d-inline-block"},m=(0,t.Lk)("b",null," مسیر ",-1),k={class:"d-inline-block"},f=(0,t.Lk)("b",null," کد مسیر ",-1),g={class:"d-inline-block"},L={class:"d-flex justify-content-between"},x=(0,t.Lk)("b",null,"تلفن ",-1),y={class:"d-inline-block"},C={key:0},h=(0,t.Lk)("b",null,"گرید ",-1),_={class:"d-inline-block"};function F(e,a,o,F,X,K){return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",c,[(0,t.Lk)("input",{type:"hidden",id:"customer_id",value:o.customer.id},null,8,i),(0,t.Lk)("p",null,(0,l.v_)(o.customer.name),1),(0,t.Lk)("p",null,(0,l.v_)(o.customer.address),1),s,(0,t.Lk)("p",d,(0,l.v_)(o.customer.province.title),1),v,(0,t.Lk)("p",u,(0,l.v_)(o.customer.city.title),1),p,(0,t.Lk)("div",null,[r,(0,t.Lk)("p",b,(0,l.v_)(o.customer.region.title),1),m,(0,t.Lk)("p",k,(0,l.v_)(o.customer.path),1),f,(0,t.Lk)("p",g,(0,l.v_)(o.customer.path_code),1)]),(0,t.Lk)("div",null,[(0,t.Lk)("p",null,(0,l.v_)(o.customer.path_description),1)]),(0,t.Lk)("div",L,[(0,t.Lk)("div",null,[x,(0,t.Lk)("p",y,[(0,t.eW)((0,l.v_)(o.customer.phone)+" ",1),o.customer.mobile&&o.customer.phone?((0,t.uX)(),(0,t.CE)("span",C,"-")):(0,t.Q3)("",!0),(0,t.eW)(" "+(0,l.v_)(o.customer.mobile),1)])]),(0,t.Lk)("div",null,[h,(0,t.Lk)("p",_,(0,l.v_)(o.customer.scores?.grade),1)])])])])}var X={name:"CustomerInfo",props:["customer"]},K=o(1241);const E=(0,K.A)(X,[["render",F]]);var S=E},3241:function(e,a,o){o.d(a,{A:function(){return k}});var t=o(6768);const l={key:0,class:"align-self-center mx-auto",style:{color:"#696969"}},n=(0,t.Lk)("i",{style:{"font-size":"55px"},class:"bi bi-camera-fill"},null,-1),c=(0,t.Lk)("p",{style:{"font-size":"15px","margin-top":"-20px"}},"ثبت تصویر",-1),i=[n,c],s={key:1,class:"image-container p-1"},d=["src"],v=["id"];function u(e,a,o,n,c,u){return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",{class:"rounded d-grid text-center cursor-pointer",onClick:a[0]||(a[0]=(...e)=>n.selectFile&&n.selectFile(...e)),style:{border:"dashed #c5c8cb 1px","min-height":"200px"}},[n.selectedFile?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",l,i)),n.selectedFile?((0,t.uX)(),(0,t.CE)("div",s,[n.imageSrc?((0,t.uX)(),(0,t.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important","border-radius":"5px",height:"auto !important"},src:n.imageSrc},null,8,d)):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)]),(0,t.Lk)("input",{class:"d-none",type:"file",id:"image_"+o.index,onChange:a[1]||(a[1]=(...e)=>n.fileChanged&&n.fileChanged(...e)),accept:"image/*",capture:"environment"},null,40,v)],64)}var p=o(144),r={name:"ImagePicker",props:["index"],setup(e){const a=()=>{document.querySelector("#image_"+e.index).click()},o=(0,p.KR)(),l=(0,p.KR)(null),n=new FileReader;n.onload=e=>{l.value=e.target.result};const c=e=>{let a=e.target.files||e.dataTransfer.files;a.length&&(o.value=a[0]),console.log("files",l.value)};return(0,t.nT)((()=>{o.value?n.readAsDataURL(o.value):l.value=null})),{selectFile:a,fileChanged:c,selectedFile:o,imageSrc:l,fileReader:n}}},b=o(1241);const m=(0,b.A)(r,[["render",u]]);var k=m},1057:function(e,a,o){o.r(a),o.d(a,{default:function(){return N}});var t=o(6768);const l=e=>((0,t.Qi)("data-v-727be4a9"),e=e(),(0,t.jt)(),e),n={class:"text-start px-4"},c=l((()=>(0,t.Lk)("b",{class:"mb-4 text-start d-block"},"فرم شلف مانیتورینگ",-1))),i=l((()=>(0,t.Lk)("div",{class:"d-flex justify-content-end mb-3"},[(0,t.Lk)("b",null,"تاریخ:"),(0,t.Lk)("p",{class:"d-inline-block"},"1403/05/10")],-1))),s={class:"mt-3"},d=l((()=>(0,t.Lk)("b",null," برند های موجود",-1))),v=l((()=>(0,t.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1))),u=(0,t.Fv)('<div class="px-0" data-v-727be4a9><label for="description" data-v-727be4a9>توضیحات</label><textarea id="description" class="form-control form-control-sm" rows="3" data-v-727be4a9></textarea></div><div class="px-0 my-4" data-v-727be4a9><button class="btn" style="background-color:#e70000;color:white;" data-v-727be4a9>ذخیره</button></div>',2);function p(e,a,o,l,p,r){const b=(0,t.g2)("customer-info"),m=(0,t.g2)("form-section");return(0,t.uX)(),(0,t.CE)("div",n,[c,i,l.customer.id?((0,t.uX)(),(0,t.Wv)(b,{key:0,customer:l.customer},null,8,["customer"])):(0,t.Q3)("",!0),(0,t.Lk)("div",s,[d,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.brands,((e,a)=>((0,t.uX)(),(0,t.Wv)(m,{info:e,index:a},null,8,["info","index"])))),256))]),(0,t.Lk)("b",{onClick:a[0]||(a[0]=(...e)=>l.addBrand&&l.addBrand(...e)),class:"cursor-pointer"},[(0,t.eW)("افزودن "),v]),u])}var r=o(144),b=o(1893),m=o(1387),k=o(4232),f=o(5130);const g=e=>((0,t.Qi)("data-v-eebc0374"),e=e(),(0,t.jt)(),e),L={class:"row mx-0 px-2 rounded position-relative pt-2 pb-3 my-4",style:{border:"solid  rgba(231,0,0,0.1) 1px","background-color":"rgba(231,0,0,0.05)"}},x=g((()=>(0,t.Lk)("i",{class:"bi bi-x-circle-fill"},null,-1))),y=[x],C={class:"col-3 px-1"},h=g((()=>(0,t.Lk)("label",{for:"sku_category_id"},"نوع محصول",-1))),_=g((()=>(0,t.Lk)("option",{value:""},null,-1))),F=["value"],X={class:"col-3 ps-0 pe-1"},K=g((()=>(0,t.Lk)("label",{for:"brand"},"برند",-1))),E=g((()=>(0,t.Lk)("option",{value:""},null,-1))),S=["value"],A=(0,t.Fv)('<div class="col-4 ps-0 pe-1" data-v-eebc0374><label data-v-eebc0374>فضای تبلیغاتی</label><select class="form-select form-select-sm" name="space" data-v-eebc0374><option value="استیکر" data-v-eebc0374>استیکر</option><option value="تابلو فروشگاه" data-v-eebc0374>تابلو فروشگاه</option><option value="سایه بان" data-v-eebc0374>سایه بان</option><option value="پوستر" data-v-eebc0374>پوستر</option><option value="استند" data-v-eebc0374>استند</option><option value="دنگلر" data-v-eebc0374>دنگلر</option><option value="لایت باکس" data-v-eebc0374>لایت باکس</option><option value="وابلر" data-v-eebc0374>وابلر</option><option value="شلف تاکر" data-v-eebc0374>شلف تاکر</option><option value="پروموتر" data-v-eebc0374>پروموتر</option><option value="پلی شلف" data-v-eebc0374>پلی شلف</option></select></div><div class="col-2 ps-0 pe-1" data-v-eebc0374><label data-v-eebc0374>چیدمان</label><select class="form-select form-select-sm" name="layout" data-v-eebc0374><option value="1" data-v-eebc0374>1</option><option value="2" data-v-eebc0374>2</option><option value="3" data-v-eebc0374>3</option><option value="4" data-v-eebc0374>4</option><option value="5" data-v-eebc0374>5</option></select></div>',2),R={class:"col-12 px-1"},I=g((()=>(0,t.Lk)("label",null,"sku ها",-1))),w={class:"d-flex justify-content-start flex-wrap mb-2"},B={class:"form-check me-2"},U=["id"],Q=["for"],j=(0,t.Fv)('<div class="col-3 px-1" data-v-eebc0374><label data-v-eebc0374>تعداد‌ در‌ ‌دیدرس</label><input type="number" class="form-control form-control-sm en" name="face" data-v-eebc0374></div><div class="col-3 ps-0 pe-1" data-v-eebc0374><label data-v-eebc0374>شدت حضور</label><select class="form-select form-select-sm" name="presence" data-v-eebc0374><option value="1" data-v-eebc0374>1</option><option value="2" data-v-eebc0374>2</option><option value="3" data-v-eebc0374>3</option><option value="4" data-v-eebc0374>4</option><option value="5" data-v-eebc0374>5</option></select></div><div class="col-2 ps-0 pe-1" data-v-eebc0374><label class="" data-v-eebc0374>تاریخ انقضا</label><select class="form-select form-select-sm" name="presence" data-v-eebc0374><option value="1" data-v-eebc0374>1</option><option value="2" data-v-eebc0374>2</option><option value="3" data-v-eebc0374>3</option><option value="4" data-v-eebc0374>4</option><option value="5" data-v-eebc0374>5</option><option value="6" data-v-eebc0374>6</option><option value="7" data-v-eebc0374>7</option><option value="8" data-v-eebc0374>8</option><option value="9" data-v-eebc0374>9</option><option value="10" data-v-eebc0374>10</option><option value="11" data-v-eebc0374>11</option><option value="12" data-v-eebc0374>12</option><option value="13" data-v-eebc0374>13</option><option value="14" data-v-eebc0374>14</option><option value="15" data-v-eebc0374>15</option><option value="16" data-v-eebc0374>16</option><option value="17" data-v-eebc0374>17</option><option value="18" data-v-eebc0374>18</option><option value="19" data-v-eebc0374>19</option><option value="20" data-v-eebc0374>20</option><option value="21" data-v-eebc0374>21</option><option value="22" data-v-eebc0374>22</option><option value="23" data-v-eebc0374>23</option><option value="24" data-v-eebc0374>24</option><option value="25" data-v-eebc0374>25</option><option value="26" data-v-eebc0374>26</option><option value="27" data-v-eebc0374>27</option><option value="28" data-v-eebc0374>28</option><option value="29" data-v-eebc0374>29</option><option value="30" data-v-eebc0374>30</option><option value="31" data-v-eebc0374>31</option></select></div><div class="col-2 ps-0 pe-1" data-v-eebc0374><label data-v-eebc0374> </label><select class="form-select form-select-sm" name="presence" data-v-eebc0374><option value="1" data-v-eebc0374>1</option><option value="2" data-v-eebc0374>2</option><option value="3" data-v-eebc0374>3</option><option value="4" data-v-eebc0374>4</option><option value="5" data-v-eebc0374>5</option><option value="6" data-v-eebc0374>6</option><option value="7" data-v-eebc0374>7</option><option value="8" data-v-eebc0374>8</option><option value="9" data-v-eebc0374>9</option><option value="10" data-v-eebc0374>10</option><option value="11" data-v-eebc0374>11</option><option value="12" data-v-eebc0374>12</option></select></div><div class="col-2 ps-0 pe-1" data-v-eebc0374><label data-v-eebc0374> </label><input type="number" class="form-control form-control-sm en" value="1403" name="face" data-v-eebc0374></div><div class="col-4 px-1" data-v-eebc0374><label data-v-eebc0374>قیمت بسته بندی</label><input type="number" min="0" class="form-control form-control-sm en" name="label_price" data-v-eebc0374></div><div class="col-4 ps-0 pe-1" data-v-eebc0374><label data-v-eebc0374>قیمت فروش</label><input type="number" min="0" class="form-control form-control-sm en" name="sale_price" data-v-eebc0374></div><div class="col-4 ps-0 pe-1" data-v-eebc0374><label data-v-eebc0374>قیمت پخش</label><input type="number" min="0" class="form-control form-control-sm en" name="distribute_price" data-v-eebc0374></div>',8),W={class:"col-12 px-1 mt-2"},q=g((()=>(0,t.Lk)("label",null,"تصویر چیدمان",-1)));function z(e,a,o,l,n,c){const i=(0,t.g2)("image-picker");return(0,t.uX)(),(0,t.CE)("div",L,[(0,t.Lk)("div",{onClick:a[0]||(a[0]=a=>e.removeBrand(o.index)),style:{position:"absolute",top:"-10px",right:"-20px",cursor:"pointer","font-size":"18px"}},y),(0,t.Lk)("div",C,[h,(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>l.selectedSkuCategory=e),name:"sku_category",class:"form-select form-select-sm",id:"sku_category_id"},[_,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.skuCategories,(e=>((0,t.uX)(),(0,t.CE)("option",{value:e},(0,k.v_)(e.title),9,F)))),256))],512),[[f.u1,l.selectedSkuCategory]])]),(0,t.Lk)("div",X,[K,(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>l.selectedBrand=e),onChange:a[3]||(a[3]=(...e)=>l.loadSkus&&l.loadSkus(...e)),name:"brand",class:"form-select form-select-sm",id:"brand"},[E,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.selectedSkuCategory.brands,(e=>((0,t.uX)(),(0,t.CE)("option",{value:e.brand},(0,k.v_)(e.brand.title),9,S)))),256))],544),[[f.u1,l.selectedBrand]])]),A,(0,t.Lk)("div",R,[I,(0,t.Lk)("div",w,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.skus,((e,a)=>((0,t.uX)(),(0,t.CE)("div",B,[(0,t.Lk)("input",{class:"form-check-input",type:"checkbox",value:"",id:"sku-"+a},null,8,U),(0,t.Lk)("label",{class:"form-check-label",for:"sku-"+a},(0,k.v_)(e.title),9,Q)])))),256))])]),j,(0,t.Lk)("div",W,[q,(0,t.bF)(i,{index:o.index},null,8,["index"])])])}var P=o(3241),T={name:"FormSection",components:{ImagePicker:P.A},props:["index"],setup(){const e=(0,m.lq)(),a=b.A.setup().panelUrl,o=(0,r.KR)([]),l=(0,r.KR)({}),n=(0,r.KR)({}),c=(0,r.KR)([]),i=()=>{axios.get(a+"category/sku").then((e=>{o.value=e.data})).catch((e=>{console.error(e)}))},s=()=>{console.log(l.value,n.value),l.value&&n.value&&axios.get(a+"sku?sku_category_id="+l.value.id+"&brand_id="+n.value.id).then((e=>{c.value=e.data,console.log(c.value)})).catch((e=>{console.error(e)}))};return(0,t.KC)((()=>{b.A.setup().checkUser(),i()})),{skuCategories:o,loadSkuCategories:i,selectedSkuCategory:l,skus:c,loadSkus:s,route:e,panelUrl:a,selectedBrand:n}}},V=o(1241);const D=(0,V.A)(T,[["render",z],["__scopeId","data-v-eebc0374"]]);var G=D,H=o(6083),J={name:"Form",components:{CustomerInfo:H.A,FormSection:G},setup(){const e=(0,m.lq)(),a=b.A.setup().panelUrl,o=(0,r.KR)({}),l=(0,r.KR)({}),n=()=>{axios.get(a+"customer/"+e.params.id).then((e=>{o.value=e.data})).catch((e=>{console.error(e)}))};(0,t.KC)((()=>{b.A.setup().checkUser(),n()}));const c=(0,r.KR)(1),i=()=>{c.value+=1},s=e=>{};return{brands:c,addBrand:i,customer:o,findCustomer:n,route:e,form:l,removeBrand:s}}};const M=(0,V.A)(J,[["render",p],["__scopeId","data-v-727be4a9"]]);var N=M}}]);
//# sourceMappingURL=form.a72f2f11.js.map
"use strict";(self["webpackChunkmonitoring"]=self["webpackChunkmonitoring"]||[]).push([[37],{3658:function(e,t,a){a.d(t,{A:function(){return f}});var o=a(6768);const n={class:"d-inline-block mb-3"};function l(e,t,a,l,i,c){const r=(0,o.g2)("loader-sm");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("button",{id:"submit",class:"btn d-flex justify-content-between",style:{"background-color":"#e70000",color:"white"},onClick:t[0]||(t[0]=(...e)=>l.submitForm&&l.submitForm(...e))},[(0,o.RG)(e.$slots,"default"),(0,o.bF)(r,{class:"loader-sm d-none"})])])}const i={id:"loader-sm"},c=(0,o.Fv)('<div class="w-100 text-center mx-1" data-v-9aaf483c><svg id="spin" width="20" height="22" data-name="spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 299.36 299.87" data-v-9aaf483c><path class="cls-1" d="M-5.26-107c0-8.87,0-17.74,0-26.6,0-6.45,4.33-10.76,10.72-10.77s10.87,4.39,10.88,10.73q0,26.79,0,53.57c0,6.49-4.32,10.66-10.83,10.62-6.72,0-10.76-4-10.78-10.58,0-9,0-18,0-27Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-2" d="M-106.92,16.76q-13.29,0-26.57,0C-140.1,16.73-144,12.7-144,6s4-10.76,10.59-10.78q26.76-.06,53.52,0c6.48,0,10.72,4.4,10.66,10.86-.06,6.66-4,10.67-10.69,10.69-9,0-18,0-26.95,0Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-3" d="M-65.82-124.94c4.84-.14,7.74,1.53,9.67,4.77q13.9,23.43,27.71,46.92a10.23,10.23,0,0,1-3.32,14.06c-5.65,3.51-11.62,2.57-14.94-2.93-9.45-15.66-18.8-31.38-27.89-47.25A10.35,10.35,0,0,1-65.82-124.94Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-4" d="M-57-38.87c0,9.07-8.62,14.08-16.24,9.54q-23.07-13.76-46-27.72a10.28,10.28,0,0,1-3.53-14.59c3.19-5.31,9.11-7,14.47-3.85Q-85.24-61.77-62.28-47.8C-58.89-45.75-56.58-42.95-57-38.87Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-5" d="M-57.75,49.3a10.17,10.17,0,0,1-5.31,8.17C-78.6,66.4-94.15,75.33-109.77,84.13c-4.87,2.75-9.19,2.11-12.7-1.34A10.85,10.85,0,0,1-125,70.17a10.15,10.15,0,0,1,4.33-4.53c15.68-9,31.33-18,47.07-26.81C-66.5,34.85-57.66,40.4-57.75,49.3Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-6" d="M-62.95,136.79c-9.81,0-14.26-8.08-9.38-16.63,6.18-10.81,12.48-21.56,18.7-32.34,2.49-4.32,4.83-8.71,7.38-13,3.35-5.62,9.25-7.17,14.77-4s7,9.18,3.71,14.88c-8.71,15.24-17.51,30.42-26.18,45.67C-56.06,135.06-58.8,137.32-62.95,136.79Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-7" d="M76.15,136.11c-3.79.4-6.64-1.48-8.54-4.68Q53.66,108,39.9,84.43c-2.73-4.7-.85-11.32,3.53-13.78,6.21-3.48,11.53-2.34,15.1,3.55,5.1,8.41,10,16.94,15,25.43,4,6.76,8,13.51,11.92,20.3C90,127.75,85.25,136.13,76.15,136.11Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-8" d="M16,118.92c0,9.24.1,18.47,0,27.7-.08,5.1-4.55,8.88-10.07,8.91-6.28,0-11-3.65-11.09-9.13q-.18-28.09,0-56.19C-5.14,84.44-.6,81,6.15,81a9.76,9.76,0,0,1,10,9.82c.09,4.74,0,9.48,0,14.23v13.84Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-9" d="M68.87,50.44c-.08-4.75,1.73-8,5.52-9.92a10.26,10.26,0,0,1,10.62.6c15,9.16,30.07,18.15,45.11,27.21,5.33,3.21,7.24,9.26,4.46,14.11C131.42,88,125.72,90,120.2,86.8c-14-8.14-27.78-16.62-41.65-25-1.82-1.09-3.7-2.09-5.42-3.32C70.24,56.45,68.27,53.82,68.87,50.44Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-10" d="M118.16-4.3h26.23c4.46,0,8.72,2.68,10.18,6.31a10.94,10.94,0,0,1-3.11,12.21c-.81.72-1.92,1.65-2.85,1.61-5-.22-9.86,1.8-14.85.47a5.38,5.38,0,0,0-2.22-.18c-7.64,1.3-15.3-.34-23,.37-5.71.52-11.59-.23-17.44.1-5.15.29-10.2-5.78-10.09-11s4.94-9.86,10.56-9.89C100.43-4.33,109.29-4.3,118.16-4.3Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-11" d="M70.49-37.4c-.5-4.22,2.43-6.45,5.32-8.15,15-8.88,30.22-17.52,45.34-26.26a10.59,10.59,0,0,1,11.89.72,10.76,10.76,0,0,1,3.47,10.62c-.81,2.84-3,4.6-5.33,5.95-11.32,6.63-22.73,13.1-34.14,19.6-3.74,2.13-7.66,4-11.28,6.3s-7.14,2.74-10.54.69A9.48,9.48,0,0,1,70.49-37.4Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path><path class="cls-12" d="M74.5-124.3c3.58.25,7.12,1.15,8.66,4.66a10.62,10.62,0,0,1-.47,10.24C77.2-100,71.22-91,66.4-81.18c-3.16,6.43-7.23,12.42-11,18.55C53.08-58.82,48.18-58.24,43.2-61a8.38,8.38,0,0,1-3.11-11.34q6.55-11.91,13.36-23.69c4.78-8.28,9.73-16.46,14.52-24.74A6.45,6.45,0,0,1,74.5-124.3Z" transform="translate(144.05 144.33)" data-v-9aaf483c></path></svg></div>',1),r=[c];function s(e,t,a,n,l,c){return(0,o.uX)(),(0,o.CE)("div",i,r)}var d={name:"Loader"},u=a(1241);const p=(0,u.A)(d,[["render",s],["__scopeId","data-v-9aaf483c"]]);var m=p,v={components:{LoaderSm:m},name:"BtnSubmit",setup(){const e=()=>{document.querySelector("#submit").setAttribute("disabled","disabled"),document.querySelector(".loader-sm").classList.remove("d-none")};return{submitForm:e}}};const k=(0,u.A)(v,[["render",l]]);var f=k},6083:function(e,t,a){a.d(t,{A:function(){return A}});var o=a(6768),n=a(4232);const l={class:"align-self-start text-start bg-light rounded rounded p-3",style:{border:"solid rgb(236,236,236) 1px"}},i={class:"px-1 mb-4 text-start"},c=["value"],r=(0,o.Lk)("b",null,"استان ",-1),s={class:"d-inline-block"},d=(0,o.Lk)("b",null," شهر ",-1),u={class:"d-inline-block"},p=(0,o.Lk)("br",null,null,-1),m=(0,o.Lk)("b",null," منطقه ",-1),v={class:"d-inline-block"},k=(0,o.Lk)("b",null," مسیر ",-1),f={class:"d-inline-block"},b=(0,o.Lk)("b",null," کد مسیر ",-1),_={class:"d-inline-block"},y={class:"d-flex justify-content-between"},g=(0,o.Lk)("b",null,"تلفن ",-1),L={class:"d-inline-block"},x={key:0},h=(0,o.Lk)("b",null,"گرید ",-1),C={class:"d-inline-block"};function S(e,t,a,S,F,E){return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",i,[(0,o.Lk)("input",{type:"hidden",id:"customer_id",value:a.customer.id},null,8,c),(0,o.Lk)("p",null,(0,n.v_)(a.customer.name),1),(0,o.Lk)("p",null,(0,n.v_)(a.customer.address),1),r,(0,o.Lk)("p",s,(0,n.v_)(a.customer.province.title),1),d,(0,o.Lk)("p",u,(0,n.v_)(a.customer.city.title),1),p,(0,o.Lk)("div",null,[m,(0,o.Lk)("p",v,(0,n.v_)(a.customer.region.title),1),k,(0,o.Lk)("p",f,(0,n.v_)(a.customer.path),1),b,(0,o.Lk)("p",_,(0,n.v_)(a.customer.path_code),1)]),(0,o.Lk)("div",null,[(0,o.Lk)("p",null,(0,n.v_)(a.customer.path_description),1)]),(0,o.Lk)("div",y,[(0,o.Lk)("div",null,[g,(0,o.Lk)("p",L,[(0,o.eW)((0,n.v_)(a.customer.phone)+" ",1),a.customer.mobile&&a.customer.phone?((0,o.uX)(),(0,o.CE)("span",x,"-")):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,n.v_)(a.customer.mobile),1)])]),(0,o.Lk)("div",null,[h,(0,o.Lk)("p",C,(0,n.v_)(a.customer.scores?.grade),1)])])])])}var F={name:"CustomerInfo",props:["customer"]},E=a(1241);const I=(0,E.A)(F,[["render",S]]);var A=I},7673:function(e,t,a){a.d(t,{A:function(){return L}});var o=a(6768),n=a(5130);const l={key:0,class:"align-self-center mx-auto",style:{color:"#696969"}},i={key:0,class:"image-container p-1"},c=["src"],r={key:1},s=(0,o.Lk)("i",{style:{"font-size":"55px"},class:"bi bi-camera-fill"},null,-1),d=(0,o.Lk)("p",{style:{"font-size":"15px","margin-top":"-20px"}},"ثبت تصویر",-1),u=[s,d],p={key:1,class:"image-container p-1"},m=["src"],v=["id"],k=["id"];function f(e,t,a,s,d,f){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",{class:"rounded d-grid text-center cursor-pointer",onClick:t[0]||(t[0]=(...e)=>s.selectFile&&s.selectFile(...e)),style:{border:"dashed #c5c8cb 1px","min-height":"200px"}},[s.selectedFile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",l,[a.img?((0,o.uX)(),(0,o.CE)("div",i,[a.img?((0,o.uX)(),(0,o.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important","border-radius":"5px",height:"auto !important"},src:a.img},null,8,c)):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",r,u))])),s.selectedFile?((0,o.uX)(),(0,o.CE)("div",p,[s.imageSrc?((0,o.uX)(),(0,o.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important","border-radius":"5px",height:"auto !important"},src:s.imageSrc},null,8,m)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)]),(0,o.bo)((0,o.Lk)("input",{type:"hidden",name:"image",id:"image_code_"+a.index,"onUpdate:modelValue":t[1]||(t[1]=e=>s.imageSrc=e)},null,8,v),[[n.Jo,s.imageSrc]]),(0,o.Lk)("input",{class:"d-none",type:"file",name:"img",id:"image_"+a.index,onChange:t[2]||(t[2]=(...e)=>s.fileChanged&&s.fileChanged(...e)),accept:"image/*",capture:"environment"},null,40,k)],64)}var b=a(144),_={name:"ImagePicker",props:["index","name","img"],setup(e){const t=()=>{document.querySelector("#image_"+e.index).click()},a=(0,b.KR)(),n=(0,b.KR)(null),l=new FileReader;l.onload=e=>{n.value=e.target.result};const i=(0,o.nI)(),c=t=>{let o=t.target.files||t.dataTransfer.files;o.length&&(a.value=o[0]),i.parent.parent.setupState.images[e.index]=a.value,console.log("aaa",i.parent.parent.setupState.images)};return(0,o.nT)((()=>{a.value?l.readAsDataURL(a.value):n.value=null})),{selectFile:t,fileChanged:c,selectedFile:a,imageSrc:n,fileReader:l,instance:i}}},y=a(1241);const g=(0,y.A)(_,[["render",f]]);var L=g},374:function(e,t,a){a.r(t),a.d(t,{default:function(){return pt}});var o=a(6768),n=a(5130);const l=e=>((0,o.Qi)("data-v-ca713b40"),e=e(),(0,o.jt)(),e),i={class:"text-start px-3"},c=l((()=>(0,o.Lk)("b",{class:"mb-4 text-start d-block"},"فرم شلف مانیتورینگ",-1))),r={class:"mt-3"},s=l((()=>(0,o.Lk)("b",null," برند های موجود",-1))),d=l((()=>(0,o.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1))),u=l((()=>(0,o.Lk)("div",{class:"px-0"},[(0,o.Lk)("label",{for:"description"},"توضیحات"),(0,o.Lk)("textarea",{id:"description",class:"form-control form-control-sm",rows:"3"})],-1))),p={class:"px-0 my-4"},m={key:0,class:"error"};function v(e,t,a,l,v,k){const f=(0,o.g2)("customer-info"),b=(0,o.g2)("form-section-form"),_=(0,o.g2)("BtnSubmit");return(0,o.uX)(),(0,o.CE)("div",i,[c,l.customer.id?((0,o.uX)(),(0,o.Wv)(f,{key:0,customer:l.customer},null,8,["customer"])):(0,o.Q3)("",!0),(0,o.Lk)("div",r,[s,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.formSections,((e,t)=>((0,o.uX)(),(0,o.Wv)(b,{info:e,index:t},null,8,["info","index"])))),256))]),(0,o.Lk)("b",{onClick:t[0]||(t[0]=(...e)=>l.addBrand&&l.addBrand(...e)),class:"cursor-pointer"},[(0,o.eW)("افزودن "),d]),u,(0,o.Lk)("div",p,[l.emptyFieldsCount?((0,o.uX)(),(0,o.CE)("p",m,"لطفا همه فیلدها را پر کنید")):(0,o.Q3)("",!0),(0,o.bF)(_,{onClick:(0,n.D$)(l.saveForm,["prevent"])},{default:(0,o.k6)((()=>[(0,o.eW)(" ثبت ")])),_:1},8,["onClick"])])])}a(4114);var k=a(144),f=a(3749),b=a(1387),_=a(4232);const y=e=>((0,o.Qi)("data-v-5df6cbc4"),e=e(),(0,o.jt)(),e),g=["id"],L=y((()=>(0,o.Lk)("i",{class:"bi bi-x-circle-fill"},null,-1))),x=[L],h={class:"col-4 px-1"},C=["for"],S=["data-value-id","id"],F=y((()=>(0,o.Lk)("option",{value:""},null,-1))),E=["value"],I={class:"col-4 ps-0 pe-1"},A=["for"],B=["data-value-id","id"],w=y((()=>(0,o.Lk)("option",{value:""},null,-1))),q=["value"],X={class:"col-4 ps-0 pe-1"},K=["for"],R=["id"],N=(0,o.Fv)('<option value="هیچکدام" data-v-5df6cbc4>هیچکدام</option><option value="استیکر" data-v-5df6cbc4>استیکر</option><option value="تابلو فروشگاه" data-v-5df6cbc4>تابلو فروشگاه</option><option value="سایه بان" data-v-5df6cbc4>سایه بان</option><option value="پوستر" data-v-5df6cbc4>پوستر</option><option value="استند" data-v-5df6cbc4>استند</option><option value="دنگلر" data-v-5df6cbc4>دنگلر</option><option value="لایت باکس" data-v-5df6cbc4>لایت باکس</option><option value="وابلر" data-v-5df6cbc4>وابلر</option><option value="شلف تاکر" data-v-5df6cbc4>شلف تاکر</option><option value="پروموتر" data-v-5df6cbc4>پروموتر</option><option value="پلی شلف" data-v-5df6cbc4>پلی شلف</option>',12),Q=[N],M={class:"col-3 ps-0 pe-1 mb-3"},V=["for"],Z=["id"],U=y((()=>(0,o.Lk)("option",{value:"1"},"بله",-1))),T=y((()=>(0,o.Lk)("option",{value:"0"},"خیر",-1))),W=[U,T],$={class:"col-3 px-1 mb-3"},P=["for"],j=["id"],D=y((()=>(0,o.Lk)("option",{value:"1"},"بله",-1))),J=y((()=>(0,o.Lk)("option",{value:"0"},"خیر",-1))),G=[D,J],O={class:"col-3 ps-0 pe-1 mb-3"},z=["for"],H=["id"],Y=y((()=>(0,o.Lk)("option",{value:"2"},"خوب",-1))),ee=y((()=>(0,o.Lk)("option",{value:"1"},"متوسط",-1))),te=y((()=>(0,o.Lk)("option",{value:"0"},"بد",-1))),ae=[Y,ee,te],oe={class:"col-3 ps-0 pe-1 mb-3"},ne=["for"],le=["id"],ie=y((()=>(0,o.Lk)("option",{value:"2"},"خوب",-1))),ce=y((()=>(0,o.Lk)("option",{value:"1"},"متوسط",-1))),re=y((()=>(0,o.Lk)("option",{value:"0"},"بد",-1))),se=[ie,ce,re],de={class:"col-12 px-1 mt-2"},ue={class:"row m-0 p-0"},pe=y((()=>(0,o.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1)));function me(e,t,a,l,i,c){const r=(0,o.g2)("form-section-sku-form");return(0,o.uX)(),(0,o.CE)("div",{id:"form-section-"+a.index,class:"row mx-0 px-2 rounded position-relative pt-2 pb-3 my-4 crdSection"},[(0,o.Lk)("div",{onClick:t[0]||(t[0]=t=>e.$parent.removeBrand(a.index)),class:"crdSectionClose"},x),(0,o.Lk)("div",h,[(0,o.Lk)("label",{for:"sku_category_id"+a.index},"نوع محصول",8,C),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.selectedSkuCategory=e),"data-value-id":l.selectedSkuCategory.id,name:"sku_category",onChange:t[2]||(t[2]=(...e)=>l.tt&&l.tt(...e)),class:"form-select form-select-sm",id:"sku_category_id"+a.index,required:""},[F,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.skuCategories,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e},(0,_.v_)(e.title),9,E)))),256))],40,S),[[n.u1,l.selectedSkuCategory]])]),(0,o.Lk)("div",I,[(0,o.Lk)("label",{for:"brand"+a.index},"برند",8,A),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.selectedBrand=e),"data-value-id":l.selectedBrand.id,onChange:t[4]||(t[4]=(...e)=>l.loadSkus&&l.loadSkus(...e)),name:"brand",class:"form-select form-select-sm",id:"brand"+a.index,required:""},[w,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.selectedSkuCategory.brands,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.brand},(0,_.v_)(e.brand.title),9,q)))),256))],40,B),[[n.u1,l.selectedBrand]])]),(0,o.Lk)("div",X,[(0,o.Lk)("label",{for:"space"+a.index},"فضای تبلیغاتی",8,K),(0,o.Lk)("select",{class:"form-select form-select-sm",name:"space",id:"space"+a.index},Q,8,R)]),(0,o.Lk)("div",M,[(0,o.Lk)("label",{for:"layoutFlavor"+a.index},"طعم های اصلی",8,V),(0,o.Lk)("select",{class:"form-select form-select-sm",name:"layoutFlavor",id:"layoutFlavor"+a.index},W,8,Z)]),(0,o.Lk)("div",$,[(0,o.Lk)("label",{for:"layoutView"+a.index},"در دیدرس بودن",8,P),(0,o.Lk)("select",{class:"form-select form-select-sm",name:"layoutView",id:"layoutView"+a.index},G,8,j)]),(0,o.Lk)("div",O,[(0,o.Lk)("label",{for:"layoutCount"+a.index},"تعداد در دیدرس",8,z),(0,o.Lk)("select",{class:"form-select form-select-sm",name:"layoutCount",id:"layoutCount"+a.index},ae,8,H)]),(0,o.Lk)("div",oe,[(0,o.Lk)("label",{for:"layoutArrange"+a.index},"نظم چیدمان",8,ne),(0,o.Lk)("select",{class:"form-select form-select-sm",name:"layoutArrange",id:"layoutArrange"+a.index},se,8,le)]),(0,o.Lk)("div",de,[(0,o.Lk)("div",ue,[l.skus.length?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(l.sectionSkus,((e,t)=>((0,o.uX)(),(0,o.Wv)(r,{key:t,sku:e,skus:l.skus,index:a.index,number:t},null,8,["sku","skus","index","number"])))),128)):(0,o.Q3)("",!0),l.skus.length?((0,o.uX)(),(0,o.CE)("b",{key:1,onClick:t[5]||(t[5]=(...e)=>l.addSectionSku&&l.addSectionSku(...e)),class:"cursor-pointer"},[(0,o.eW)(" افزودن sku "),pe])):(0,o.Q3)("",!0)])])],8,g)}var ve=a(7673);const ke=e=>((0,o.Qi)("data-v-34d07e7c"),e=e(),(0,o.jt)(),e),fe={class:"row m-0 mb-2 p-2 rounded mb-3 position-relative crdSku"},be=ke((()=>(0,o.Lk)("i",{class:"bi bi-x-circle-fill"},null,-1))),_e=[be],ye={class:"col-12 px-1"},ge=["for"],Le=["id","name"],xe=ke((()=>(0,o.Lk)("option",{value:""},null,-1))),he=["value"],Ce={class:"col-3 px-1"},Se=["for"],Fe=["id"],Ee={class:"col-3 ps-0 pe-1"},Ie=["for"],Ae=["id"],Be={class:"col-2 ps-0 pe-1"},we=["for"],qe=["id"],Xe=(0,o.Fv)('<option value="1" data-v-34d07e7c>1</option><option value="2" data-v-34d07e7c>2</option><option value="3" data-v-34d07e7c>3</option><option value="4" data-v-34d07e7c>4</option><option value="5" data-v-34d07e7c>5</option><option value="6" data-v-34d07e7c>6</option><option value="7" data-v-34d07e7c>7</option><option value="8" data-v-34d07e7c>8</option><option value="9" data-v-34d07e7c>9</option><option value="10" data-v-34d07e7c>10</option><option value="11" data-v-34d07e7c>11</option><option value="12" data-v-34d07e7c>12</option><option value="13" data-v-34d07e7c>13</option><option value="14" data-v-34d07e7c>14</option><option value="15" data-v-34d07e7c>15</option><option value="16" data-v-34d07e7c>16</option><option value="17" data-v-34d07e7c>17</option><option value="18" data-v-34d07e7c>18</option><option value="19" data-v-34d07e7c>19</option><option value="20" data-v-34d07e7c>20</option><option value="21" data-v-34d07e7c>21</option><option value="22" data-v-34d07e7c>22</option><option value="23" data-v-34d07e7c>23</option><option value="24" data-v-34d07e7c>24</option><option value="25" data-v-34d07e7c>25</option><option value="26" data-v-34d07e7c>26</option><option value="27" data-v-34d07e7c>27</option><option value="28" data-v-34d07e7c>28</option><option value="29" data-v-34d07e7c>29</option><option value="30" data-v-34d07e7c>30</option><option value="31" data-v-34d07e7c>31</option>',31),Ke=[Xe],Re={class:"col-2 ps-0 pe-1"},Ne=["for"],Qe=["id"],Me=(0,o.Fv)('<option value="1" data-v-34d07e7c>1</option><option value="2" data-v-34d07e7c>2</option><option value="3" data-v-34d07e7c>3</option><option value="4" data-v-34d07e7c>4</option><option value="5" data-v-34d07e7c>5</option><option value="6" data-v-34d07e7c>6</option><option value="7" data-v-34d07e7c>7</option><option value="8" data-v-34d07e7c>8</option><option value="9" data-v-34d07e7c>9</option><option value="10" data-v-34d07e7c>10</option><option value="11" data-v-34d07e7c>11</option><option value="12" data-v-34d07e7c>12</option>',12),Ve=[Me],Ze={class:"col-2 ps-0 pe-1"},Ue=["for"],Te=["id"],We={class:"col-4 px-1"},$e=["for"],Pe=["id"],je={class:"col-4 ps-0 pe-1"},De=["for"],Je=["id"],Ge={class:"col-4 ps-0 pe-1"},Oe=["for"],ze=["id"],He={id:"price"},Ye={id:"priceVal",class:"align-self-center text-center"};function et(e,t,a,l,i,c){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",fe,[(0,o.Lk)("div",{onClick:t[0]||(t[0]=t=>e.$parent.removeSectionSku(a.number)),class:"crdSkuClose"},_e),(0,o.Lk)("div",ye,[(0,o.Lk)("label",{for:"sku_id_"+a.index+"_"+a.number},"sku",8,ge),(0,o.Lk)("select",{class:"form-select form-select-sm",id:"sku_id_"+a.index+"_"+a.number,name:"sku_of_category_"+e.$parent.selectedSkuCategory.id+"_brand_"+e.$parent.selectedBrand.id,required:""},[xe,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.$parent.skus,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.id},(0,_.v_)(e.title),9,he)))),256))],8,Le)]),(0,o.Lk)("div",Ce,[(0,o.Lk)("label",{for:"face_"+a.index+"_"+a.number},"تعداد‌ در‌ ‌دیدرس",8,Se),(0,o.Lk)("input",{type:"number",min:"0",class:"form-control form-control-sm en",name:"face",id:"face_"+a.index+"_"+a.number},null,8,Fe)]),(0,o.Lk)("div",Ee,[(0,o.Lk)("label",{for:"presence_"+a.index+"_"+a.number},"شدت حضور",8,Ie),(0,o.Lk)("input",{type:"number",min:"0",class:"form-control form-control-sm en",name:"presence",id:"presence_"+a.index+"_"+a.number},null,8,Ae)]),(0,o.Lk)("div",Be,[(0,o.Lk)("label",{for:"expire_day_"+a.index+"_"+a.number},"تاریخ انقضا",8,we),(0,o.Lk)("select",{class:"form-select form-select-sm",name:"expire_day",id:"expire_day_"+a.index+"_"+a.number},Ke,8,qe)]),(0,o.Lk)("div",Re,[(0,o.Lk)("label",{for:"expire_month_"+a.index+"_"+a.number}," ",8,Ne),(0,o.Lk)("select",{class:"form-select form-select-sm",name:"expire_month",id:"expire_month_"+a.index+"_"+a.number},Ve,8,Qe)]),(0,o.Lk)("div",Ze,[(0,o.Lk)("label",{for:"expire_year_"+a.index+"_"+a.number}," ",8,Ue),(0,o.Lk)("input",{type:"number",class:"form-control form-control-sm en price",value:"1403",name:"expire_year",id:"expire_year_"+a.index+"_"+a.number},null,8,Te)]),(0,o.Lk)("div",We,[(0,o.Lk)("label",{for:"label_price_"+a.index+"_"+a.number},"قیمت کالا",8,$e),(0,o.Lk)("input",{type:"number",value:"",min:"0",onFocus:t[1]||(t[1]=e=>l.showSeparated("label_price_"+a.index+"_"+a.number)),onInput:t[2]||(t[2]=e=>l.checkPrice("label_price_"+a.index+"_"+a.number)),class:"form-control form-control-sm en price",name:"label_price",id:"label_price_"+a.index+"_"+a.number},null,40,Pe)]),(0,o.Lk)("div",je,[(0,o.Lk)("label",{for:"sale_price_"+a.index+"_"+a.number},"قیمت فروشگاه",8,De),(0,o.Lk)("input",{type:"number",value:"",min:"0",onFocus:t[3]||(t[3]=e=>l.showSeparated("sale_price_"+a.index+"_"+a.number)),onInput:t[4]||(t[4]=e=>l.checkPrice("sale_price_"+a.index+"_"+a.number)),class:"form-control form-control-sm en price",name:"sale_price",id:"sale_price_"+a.index+"_"+a.number},null,40,Je)]),(0,o.Lk)("div",Ge,[(0,o.Lk)("label",{for:"distribute_price_"+a.index+"_"+a.number},"قیمت پخش",8,Oe),(0,o.Lk)("input",{type:"number",value:"",min:"0",onFocus:t[5]||(t[5]=e=>l.showSeparated("distribute_price_"+a.index+"_"+a.number)),onInput:t[6]||(t[6]=e=>l.checkPrice("distribute_price_"+a.index+"_"+a.number)),class:"form-control form-control-sm en price",name:"distribute_price",id:"distribute_price_"+a.index+"_"+a.number},null,40,ze)])]),(0,o.bo)((0,o.Lk)("div",He,[(0,o.bo)((0,o.Lk)("h1",Ye,null,512),[[n.aG,null!==l.price]])],512),[[n.aG,l.price]])],64)}var tt={name:"FormSectionSkuForm",props:["sku","number","index"],setup(){const e=(0,k.KR)({}),t=(0,k.KR)(),a=e=>{t.value=parseInt(document.querySelector("#"+e).value).toLocaleString(),document.querySelector("#priceVal").innerText=t.value,document.querySelector("#price").style.opacity=1,setTimeout((()=>{document.querySelector("#price").style.opacity=0}),3e3)},o=e=>{t.value=parseInt(document.querySelector("#"+e).value).toLocaleString(),document.querySelector("#priceVal").innerText=t.value,isNaN(parseInt(document.querySelector("#"+e).value))?(document.querySelector("#priceVal").innerText="",document.querySelector("#price").style.opacity=0):(document.querySelector("#price").style.opacity=1,setTimeout((()=>{document.querySelector("#price").style.opacity=0}),3e3))};return{selectedSku:e,checkPrice:a,price:t,showSeparated:o}}},at=a(1241);const ot=(0,at.A)(tt,[["render",et],["__scopeId","data-v-34d07e7c"]]);var nt=ot,lt={name:"FormSectionForm",components:{ImagePicker:ve.A,FormSectionSkuForm:nt},props:["index"],setup(){const e=(0,b.lq)(),t=f.A.setup().panelUrl,a=(0,k.KR)([]),n=(0,k.KR)({}),l=(0,k.KR)({}),i=(0,k.KR)([]),c=()=>{axios.get(t+"api/category/sku").then((e=>{a.value=e.data})).catch((e=>{console.error(e)}))},r=()=>{console.log(n.value,l.value),n.value&&l.value&&axios.get(t+"api/sku?sku_category_id="+n.value.id+"&brand_id="+l.value.id).then((e=>{i.value=e.data,console.log(i.value)})).catch((e=>{console.error(e)}))};(0,o.KC)((()=>{f.A.setup().checkUser(),c()}));const s=(0,k.KR)([]),d=()=>{let e={sku_id:"",face:"",presence:"",expire_day:"",expire_month:"",expire_year:"",label_price:"",sale_price:"",distribute_price:""};s.value.push(e)},u=e=>{s.value.splice(e,1)},p=()=>{console.log("ccc",n.value)};return{skuCategories:a,loadSkuCategories:c,selectedSkuCategory:n,skus:i,loadSkus:r,route:e,panelUrl:t,selectedBrand:l,sectionSkus:s,addSectionSku:d,removeSectionSku:u,tt:p}}};const it=(0,at.A)(lt,[["render",me],["__scopeId","data-v-5df6cbc4"]]);var ct=it,rt=a(6083),st=a(3658),dt={name:"Form",components:{CustomerInfo:rt.A,FormSectionForm:ct,BtnSubmit:st.A},setup(){const e=(0,b.rd)(),t=(0,b.lq)(),a=f.A.setup().panelUrl,n=(0,k.KR)({}),l=JSON.parse(localStorage.getItem("user")),i=(0,k.KR)({}),c=(0,k.KR)(0),r=()=>{axios.get(a+"api/customer/"+t.params.id).then((e=>{n.value=e.data})).catch((e=>{console.error(e)}))};(0,o.KC)((()=>{f.A.setup().checkUser(),r()}));const s=(0,k.KR)([]),d=()=>{let e={sku_category_id:"",brand_id:"",space:"",layout:"",sku_ids:""};s.value.push(e)},u=e=>{s.value.splice(e,1)},p=(0,k.KR)([]),m=()=>{c.value=f.A.setup().EmptyFieldsCount();let o=[];if(0===c.value){for(let e=0;e<document.getElementsByName("sku_category").length;e++){let t=document.getElementsByName("sku_category")[e].getAttribute("data-value-id"),a=document.getElementsByName("brand")[e].getAttribute("data-value-id"),n=[],l=document.getElementsByName("sku_of_category_"+t+"_brand_"+a);for(let o=0;o<l.length;o++)n.push({sku_id:l[o].value,face:document.getElementById("face_"+e+"_"+o).value,presence:document.getElementById("presence_"+e+"_"+o).value,expire_date:document.getElementById("expire_year_"+e+"_"+o).value+"-"+document.getElementById("expire_month_"+e+"_"+o).value+"-"+document.getElementById("expire_day_"+e+"_"+o).value,label_price:document.getElementById("label_price_"+e+"_"+o).value,sale_price:document.getElementById("sale_price_"+e+"_"+o).value,distribute_price:document.getElementById("distribute_price_"+e+"_"+o).value});let i=parseInt(document.getElementsByName("layoutFlavor")[e].value)+parseInt(document.getElementsByName("layoutView")[e].value)+parseInt(document.getElementsByName("layoutCount")[e].value)+parseInt(document.getElementsByName("layoutArrange")[e].value),c="D";switch(i){case 6:c="A";break;case 5:c="A";break;case 4:c="B";break;case 3:c="C";break;default:c="D";break}o.push({sku_category_id:parseInt(t),brand_id:a,space:document.getElementsByName("space")[e].value,layout:c,skus:n})}let n=new FormData;n.append("visitor_id",l.id),n.append("customer_id",t.params.id),n.append("description",document.querySelector("#description").value),n.append("form",JSON.stringify(o)),axios.post(a+"api/form",n).then((t=>{201!==t.status&&200!==t.status||(f.A.setup().reloadVisitor(),l.value=JSON.parse(localStorage.getItem("user")),setTimeout((()=>{e.push({name:"forms"})}),2e3))})).catch((e=>{console.error(e)}))}};return{formSections:s,addBrand:d,customer:n,visitor:l,findCustomer:r,router:e,route:t,form:i,removeBrand:u,saveForm:m,emptyFieldsCount:c,images:p}}};const ut=(0,at.A)(dt,[["render",v],["__scopeId","data-v-ca713b40"]]);var pt=ut}}]);
//# sourceMappingURL=formCreate.ab959393.js.map
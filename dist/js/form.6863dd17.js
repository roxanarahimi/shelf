"use strict";(self["webpackChunkmonitoring"]=self["webpackChunkmonitoring"]||[]).push([[325],{6083:function(e,l,t){t.d(l,{A:function(){return F}});var s=t(6768),n=t(4232);const a={class:"align-self-start text-start bg-light rounded rounded p-3",style:{border:"solid rgb(236,236,236) 1px"}},r={class:"px-1 mb-4 text-start"},c=["value"],i=(0,s.Lk)("b",null,"استان ",-1),o={class:"d-inline-block"},u=(0,s.Lk)("b",null," شهر ",-1),d={class:"d-inline-block"},p=(0,s.Lk)("br",null,null,-1),k=(0,s.Lk)("b",null," منطقه ",-1),m={class:"d-inline-block"},v=(0,s.Lk)("b",null," مسیر ",-1),L={class:"d-inline-block"},b=(0,s.Lk)("b",null," کد مسیر ",-1),g={class:"d-inline-block"},x={class:"d-flex justify-content-between"},_=(0,s.Lk)("b",null,"تلفن ",-1),f={class:"d-inline-block"},h={key:0},y=(0,s.Lk)("b",null,"گرید ",-1),C={class:"d-inline-block"};function w(e,l,t,w,X,E){return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.Lk)("div",r,[(0,s.Lk)("input",{type:"hidden",id:"customer_id",value:t.customer.id},null,8,c),(0,s.Lk)("p",null,(0,n.v_)(t.customer.name),1),(0,s.Lk)("p",null,(0,n.v_)(t.customer.address),1),i,(0,s.Lk)("p",o,(0,n.v_)(t.customer.province.title),1),u,(0,s.Lk)("p",d,(0,n.v_)(t.customer.city.title),1),p,(0,s.Lk)("div",null,[k,(0,s.Lk)("p",m,(0,n.v_)(t.customer.region.title),1),v,(0,s.Lk)("p",L,(0,n.v_)(t.customer.path),1),b,(0,s.Lk)("p",g,(0,n.v_)(t.customer.path_code),1)]),(0,s.Lk)("div",null,[(0,s.Lk)("p",null,(0,n.v_)(t.customer.path_description),1)]),(0,s.Lk)("div",x,[(0,s.Lk)("div",null,[_,(0,s.Lk)("p",f,[(0,s.eW)((0,n.v_)(t.customer.phone)+" ",1),t.customer.mobile&&t.customer.phone?((0,s.uX)(),(0,s.CE)("span",h,"-")):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,n.v_)(t.customer.mobile),1)])]),(0,s.Lk)("div",null,[y,(0,s.Lk)("p",C,(0,n.v_)(t.customer.scores?.grade),1)])])])])}var X={name:"CustomerInfo",props:["customer"]},E=t(1241);const A=(0,E.A)(X,[["render",w]]);var F=A},7778:function(e,l,t){t.d(l,{A:function(){return B}});var s=t(6768),n=t(4232);const a=e=>((0,s.Qi)("data-v-474ed9a8"),e=e(),(0,s.jt)(),e),r=["id"],c={class:"col-3 px-1"},i=a((()=>(0,s.Lk)("label",null,"نوع محصول",-1))),o={class:"col-3 ps-0 pe-1"},u=a((()=>(0,s.Lk)("label",null,"برند",-1))),d={class:"col-4 ps-0 pe-1"},p=a((()=>(0,s.Lk)("label",null,"فضای تبلیغاتی",-1))),k={class:"col-2 ps-0 pe-1"},m=a((()=>(0,s.Lk)("label",null,"چیدمان",-1))),v={class:"col-12 px-1"},L=a((()=>(0,s.Lk)("label",null,"sku ها",-1))),b={class:"d-flex justify-content-start flex-wrap mb-2"},g={class:"form-check me-2"},x={class:"col-4 px-1"},_=a((()=>(0,s.Lk)("label",null,"تعداد‌ در‌ ‌دیدرس",-1))),f={class:"col-4 ps-0 pe-1"},h=a((()=>(0,s.Lk)("label",null,"شدت حضور",-1))),y={class:"col-4 ps-0 pe-1"},C=a((()=>(0,s.Lk)("label",{class:""},"تاریخ انقضا",-1))),w={class:"col-4 px-1"},X=a((()=>(0,s.Lk)("label",null,"قیمت بسته بندی",-1))),E={class:"col-4 ps-0 pe-1"},A=a((()=>(0,s.Lk)("label",null,"قیمت فروش",-1))),F={class:"col-4 ps-0 pe-1"},K=a((()=>(0,s.Lk)("label",null,"قیمت پخش",-1))),S={key:0,class:"col-12 px-1 mt-2"},Q=a((()=>(0,s.Lk)("label",null,"تصویر چیدمان",-1))),R={class:"rounded d-grid text-center p-1",style:{border:"dashed #c5c8cb 1px","min-height":"200px"}},I=["src"];function U(e,l,t,a,U,j){return(0,s.uX)(),(0,s.CE)("div",{id:"form-section-"+t.index,class:"row mx-0 px-2 rounded position-relative pt-2 pb-3 my-4",style:{border:"solid  rgba(231,0,0,0.1) 1px","background-color":"rgba(231,0,0,0.05)"}},[(0,s.Lk)("div",c,[i,(0,s.Lk)("p",null,(0,n.v_)(t.section.skuCategory.title),1)]),(0,s.Lk)("div",o,[u,(0,s.Lk)("p",null,(0,n.v_)(t.section.brand.title),1)]),(0,s.Lk)("div",d,[p,(0,s.Lk)("p",null,(0,n.v_)(t.section.space),1)]),(0,s.Lk)("div",k,[m,(0,s.Lk)("p",null,(0,n.v_)(t.section.layout),1)]),(0,s.Lk)("div",v,[L,(0,s.Lk)("div",b,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.section.skus,(e=>((0,s.uX)(),(0,s.CE)("p",g,(0,n.v_)(e.sku.title),1)))),256))])]),(0,s.Lk)("div",x,[_,(0,s.Lk)("p",null,(0,n.v_)(t.section.face),1)]),(0,s.Lk)("div",f,[h,(0,s.Lk)("p",null,(0,n.v_)(t.section.presence),1)]),(0,s.Lk)("div",y,[C,(0,s.Lk)("p",null,(0,n.v_)(t.section.expire_date),1)]),(0,s.Lk)("div",w,[X,(0,s.Lk)("p",null,(0,n.v_)(t.section.label_price),1)]),(0,s.Lk)("div",E,[A,(0,s.Lk)("p",null,(0,n.v_)(t.section.sale_price),1)]),(0,s.Lk)("div",F,[K,(0,s.Lk)("p",null,(0,n.v_)(t.section.distribute_price),1)]),t.section.image?((0,s.uX)(),(0,s.CE)("div",S,[Q,(0,s.Lk)("div",R,[(0,s.Lk)("img",{src:t.section.image,class:"w-100",style:{"border-radius":"5px"}},null,8,I)])])):(0,s.Q3)("",!0)],8,r)}var j=t(144),q=t(3749),W=t(1387),z=t(7673),J={name:"FormSection",components:{ImagePicker:z.A},props:["index","section"],setup(){const e=(0,W.lq)(),l=q.A.setup().panelUrl,t=(0,j.KR)([]),n=(0,j.KR)({}),a=(0,j.KR)({}),r=(0,j.KR)([]),c=()=>{console.log(n.value,a.value),n.value&&a.value&&axios.get(l+"api/sku?sku_category_id="+n.value.id+"&brand_id="+a.value.id).then((e=>{r.value=e.data,console.log(r.value)})).catch((e=>{console.error(e)}))};return(0,s.KC)((()=>{q.A.setup().checkUser()})),{skuCategories:t,selectedSkuCategory:n,skus:r,loadSkus:c,route:e,panelUrl:l,selectedBrand:a}}},P=t(1241);const T=(0,P.A)(J,[["render",U],["__scopeId","data-v-474ed9a8"]]);var B=T},7673:function(e,l,t){t.d(l,{A:function(){return f}});var s=t(6768),n=t(5130);const a={key:0,class:"align-self-center mx-auto",style:{color:"#696969"}},r={key:0,class:"image-container p-1"},c=["src"],i={key:1},o=(0,s.Lk)("i",{style:{"font-size":"55px"},class:"bi bi-camera-fill"},null,-1),u=(0,s.Lk)("p",{style:{"font-size":"15px","margin-top":"-20px"}},"ثبت تصویر",-1),d=[o,u],p={key:1,class:"image-container p-1"},k=["src"],m=["id"],v=["id"];function L(e,l,t,o,u,L){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",{class:"rounded d-grid text-center cursor-pointer",onClick:l[0]||(l[0]=(...e)=>o.selectFile&&o.selectFile(...e)),style:{border:"dashed #c5c8cb 1px","min-height":"200px"}},[o.selectedFile?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",a,[t.img?((0,s.uX)(),(0,s.CE)("div",r,[t.img?((0,s.uX)(),(0,s.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important","border-radius":"5px",height:"auto !important"},src:t.img},null,8,c)):(0,s.Q3)("",!0)])):((0,s.uX)(),(0,s.CE)("div",i,d))])),o.selectedFile?((0,s.uX)(),(0,s.CE)("div",p,[o.imageSrc?((0,s.uX)(),(0,s.CE)("img",{key:0,class:"img-fluid",style:{width:"360px !important","border-radius":"5px",height:"auto !important"},src:o.imageSrc},null,8,k)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)]),(0,s.bo)((0,s.Lk)("input",{type:"hidden",name:"image",id:"image_code_"+t.index,"onUpdate:modelValue":l[1]||(l[1]=e=>o.imageSrc=e)},null,8,m),[[n.Jo,o.imageSrc]]),(0,s.Lk)("input",{class:"d-none",type:"file",name:"img",id:"image_"+t.index,onChange:l[2]||(l[2]=(...e)=>o.fileChanged&&o.fileChanged(...e)),accept:"image/*",capture:"environment"},null,40,v)],64)}var b=t(144),g={name:"ImagePicker",props:["index","name","img"],setup(e){const l=()=>{document.querySelector("#image_"+e.index).click()},t=(0,b.KR)(),n=(0,b.KR)(null),a=new FileReader;a.onload=e=>{n.value=e.target.result};const r=(0,s.nI)(),c=l=>{let s=l.target.files||l.dataTransfer.files;s.length&&(t.value=s[0]),r.parent.parent.setupState.images[e.index]=t.value,console.log("aaa",r.parent.parent.setupState.images)};return(0,s.nT)((()=>{t.value?a.readAsDataURL(t.value):n.value=null})),{selectFile:l,fileChanged:c,selectedFile:t,imageSrc:n,fileReader:a,instance:r}}},x=t(1241);const _=(0,x.A)(g,[["render",L]]);var f=_},3759:function(e,l,t){t.r(l),t.d(l,{default:function(){return U}});var s=t(6768),n=t(4232);const a=e=>((0,s.Qi)("data-v-c2f6b8a4"),e=e(),(0,s.jt)(),e),r={class:"text-start px-3"},c=a((()=>(0,s.Lk)("b",{class:"mb-4 text-start d-block"},"فرم شلف مانیتورینگ",-1))),i={key:0},o={class:"d-flex justify-content-end mb-3"},u=a((()=>(0,s.Lk)("b",null,"تاریخ:",-1))),d={class:"d-inline-block"},p={key:1,class:"mt-3 border rounded border-bottom-0",style:{"overflow-y":"scroll"}},k={class:"table table-responsive rounded mb-0"},m=a((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",{class:"bgHead"},[(0,s.Lk)("th",{class:""},"sku"),(0,s.Lk)("th",{class:"text-center"},"تعداد در دیدرس"),(0,s.Lk)("th",{class:"text-center"},"شدت حضور"),(0,s.Lk)("th",{class:"en"},"تاریخ انقضا"),(0,s.Lk)("th",{class:"en"},"قیمت بسته"),(0,s.Lk)("th",{class:"en"},"قیمت فروش"),(0,s.Lk)("th",{class:"en"},"قیمت پخش"),(0,s.Lk)("th",{class:"text-center"},"فضای تبلیغاتی"),(0,s.Lk)("th",{class:"text-center"},"چید مان")])],-1))),v={class:"text-nowrap"},L={class:"text-center text-nowrap"},b={class:"text-center text-nowrap"},g={class:"en text-nowrap"},x={class:"en text-nowrap"},_={class:"en text-nowrap"},f={class:"en text-nowrap"},h=["rowspan"],y=["rowspan"],C={class:"px-0 py-3"},w=a((()=>(0,s.Lk)("b",null,"توضیحات",-1)));function X(e,l,t,a,X,E){const A=(0,s.g2)("customer-info");return(0,s.uX)(),(0,s.CE)("div",r,[c,a.form.id?((0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",o,[u,(0,s.Lk)("p",d,(0,n.v_)(a.form.created_at),1)]),a.customer.id?((0,s.uX)(),(0,s.Wv)(A,{key:0,customer:a.customer},null,8,["customer"])):(0,s.Q3)("",!0),a.form.id?((0,s.uX)(),(0,s.CE)("div",p,[(0,s.Lk)("table",k,[m,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.form.sections,((e,l)=>((0,s.uX)(),(0,s.CE)("tbody",{key:l},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.skus,((l,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",v,(0,n.v_)(l.sku.title),1),(0,s.Lk)("td",L,(0,n.v_)(l.face),1),(0,s.Lk)("td",b,(0,n.v_)(l.presence),1),(0,s.Lk)("td",g,(0,n.v_)(l.expire_date),1),(0,s.Lk)("td",x,(0,n.v_)(l.label_price),1),(0,s.Lk)("td",_,(0,n.v_)(l.sale_price),1),(0,s.Lk)("td",f,(0,n.v_)(l.distribute_price),1),0===t?((0,s.uX)(),(0,s.CE)("td",{key:0,class:"text-center align-middle text-nowrap",rowspan:e.skus.length},(0,n.v_)(e.space),9,h)):(0,s.Q3)("",!0),0===t?((0,s.uX)(),(0,s.CE)("td",{key:1,class:"text-center align-middle text-nowrap",rowspan:e.skus.length},(0,n.v_)(e.layout),9,y)):(0,s.Q3)("",!0)])))),128))])))),128))])])):(0,s.Q3)("",!0),(0,s.Lk)("div",C,[w,(0,s.Lk)("p",null,(0,n.v_)(a.form.description),1)])])):(0,s.Q3)("",!0)])}var E=t(144),A=t(3749),F=t(1387),K=t(7778),S=t(6083),Q={name:"Form",components:{CustomerInfo:S.A,FormSection:K.A},setup(){const e=(0,F.rd)(),l=(0,F.lq)(),t=A.A.setup().panelUrl,n=A.A.setup().storageUrl,a=JSON.parse(localStorage.getItem("user")),r=(0,E.KR)(0),c=(0,E.KR)({}),i=(0,E.KR)({}),o=e=>{axios.get(t+"api/customer/"+e).then((e=>{c.value=e.data})).catch((e=>{console.error(e)}))},u=()=>{axios.get(t+"api/form/"+l.params.id).then((e=>{i.value=e.data})).then((e=>{o(i.value.customer.id)})).catch((e=>{console.error(e)}))};return(0,s.KC)((()=>{A.A.setup().checkUser(),u()})),{visitor:a,router:e,route:l,emptyFieldsCount:r,loadForm:u,form:i,customer:c,findCustomer:o,panelUrl:t,storageUrl:n}}},R=t(1241);const I=(0,R.A)(Q,[["render",X],["__scopeId","data-v-c2f6b8a4"]]);var U=I}}]);
//# sourceMappingURL=form.6863dd17.js.map